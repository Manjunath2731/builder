{"version":3,"sources":["content/pages/Auth/ResetPassword/ResetPassword.js","content/pages/Auth/ResetPassword/index.js"],"names":["ResetPassword","isMountedRef","useRefMounted","t","useTranslation","useState","submitting","setFormSubmitting","navigate","useNavigate","logout","useAuth","userData","useSelector","state","auth","data","handleLogout","a","console","error","initialValues","newPassword","confirmPassword","submit","validationSchema","Yup","shape","max","required","onSubmit","values","setErrors","setStatus","setSubmitting","resetForm","payload","email","ResetPasswordAPIWithoutToken","response","showNotification","notificationType","SUCCESS","errorMessage","errors","ERROR","current","success","message","handleBlur","handleChange","handleSubmit","isSubmitting","touched","noValidate","TextField","Boolean","fullWidth","margin","autoFocus","helperText","label","name","onBlur","onChange","type","value","variant","Button","sx","mt","color","onClick","disabled","size","CircularProgress","thickness","MainContent","styled","Box","ResetPasswordCover","method","display","justifyContent","width","alt","src","Container","maxWidth","Card","px","pt","pb","IconButton","fontSize","textAlign","Typography","mb","fontWeight"],"mappings":"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","file":"static/js/92.33b68dc4.chunk.js","sourcesContent":["import React, { useState } from 'react';\r\nimport * as Yup from 'yup';\r\nimport { Formik } from 'formik';\r\nimport { Button, TextField, CircularProgress } from '@mui/material';\r\nimport useRefMounted from 'src/hooks/useRefMounted';\r\nimport { useSelector } from 'react-redux';\r\nimport useAuth from 'src/hooks/useAuth';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { showNotification } from 'src/utils/commonUtility';\r\nimport { notificationType } from 'src/constants/NotificationType';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { ResetPasswordAPIWithoutToken } from '../../../../axiosInstances/Api.js';\r\n\r\nconst ResetPassword = () => {\r\n  const isMountedRef = useRefMounted();\r\n  const { t } = useTranslation();\r\n  const [submitting, setFormSubmitting] = useState(false);\r\n  const navigate = useNavigate();\r\n  const { logout } = useAuth();\r\n  let userData = useSelector((state) => state.auth.data);\r\n  const handleLogout = async () => {\r\n    try {\r\n      await logout();\r\n      navigate('/');\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Formik\r\n      initialValues={{\r\n        newPassword: '',\r\n        confirmPassword: '',\r\n        submit: null\r\n      }}\r\n      validationSchema={Yup.object().shape({\r\n        newPassword: Yup.string()\r\n          .max(255)\r\n          .required(t('This is required field.')),\r\n        confirmPassword: Yup.string()\r\n          .max(255)\r\n          .required(t('This is required field.'))\r\n      })}\r\n      onSubmit={async (\r\n        values,\r\n        { setErrors, setStatus, setSubmitting, resetForm }\r\n      ) => {\r\n        const payload = {\r\n          newPassword: values.newPassword,\r\n          confirmPassword: values.confirmPassword,\r\n          email: userData?.email\r\n        };\r\n        try {\r\n          const response = await ResetPasswordAPIWithoutToken(payload);\r\n          if (response === 200 || response === 201) {\r\n            let sucessMessage = 'Sucessfully Password Changed';\r\n            showNotification(sucessMessage, notificationType.SUCCESS);\r\n            setFormSubmitting(false);\r\n            handleLogout();\r\n            resetForm();\r\n          } else {\r\n            let errorMessage =\r\n              response?.data?.errors[0] || 'Something went wrong';\r\n            showNotification(errorMessage, notificationType.ERROR);\r\n          }\r\n          if (isMountedRef.current) {\r\n            setStatus({ success: true });\r\n            setSubmitting(false);\r\n          }\r\n        } catch (err) {\r\n          if (isMountedRef.current) {\r\n            setStatus({ success: false });\r\n            setErrors({ submit: err.message });\r\n            setSubmitting(false);\r\n          }\r\n        }\r\n      }}\r\n    >\r\n      {({\r\n        errors,\r\n        handleBlur,\r\n        handleChange,\r\n        handleSubmit,\r\n        isSubmitting,\r\n        touched,\r\n        values\r\n      }) => (\r\n        <form noValidate onSubmit={handleSubmit}>\r\n          <TextField\r\n            error={Boolean(touched.newPassword && errors.newPassword)}\r\n            fullWidth\r\n            margin=\"normal\"\r\n            autoFocus\r\n            helperText={touched.newPassword && errors.newPassword}\r\n            label={t('New Password')}\r\n            name=\"newPassword\"\r\n            onBlur={handleBlur}\r\n            onChange={handleChange}\r\n            type=\"password\"\r\n            value={values.newPassword}\r\n            variant=\"outlined\"\r\n          />\r\n          <TextField\r\n            error={Boolean(touched.confirmPassword && errors.confirmPassword)}\r\n            fullWidth\r\n            margin=\"normal\"\r\n            helperText={touched.confirmPassword && errors.confirmPassword}\r\n            label={t('Confirm Password')}\r\n            name=\"confirmPassword\"\r\n            onBlur={handleBlur}\r\n            onChange={handleChange}\r\n            type=\"password\"\r\n            value={values.confirmPassword}\r\n            variant=\"outlined\"\r\n          />\r\n          <Button\r\n            sx={{\r\n              mt: 3\r\n            }}\r\n            color=\"primary\"\r\n            onClick={() => setFormSubmitting(true)}\r\n            disabled={\r\n              isSubmitting || values.confirmPassword !== values.newPassword\r\n            }\r\n            type=\"submit\"\r\n            fullWidth\r\n            size=\"large\"\r\n            variant=\"contained\"\r\n          >\r\n            {submitting && !errors ? (\r\n              <CircularProgress size={25} color=\"inherit\" thickness={3.6} />\r\n            ) : (\r\n              t('Change Password')\r\n            )}\r\n          </Button>\r\n        </form>\r\n      )}\r\n    </Formik>\r\n  );\r\n};\r\n\r\nexport default ResetPassword;\r\n","import {\r\n  Box,\r\n  Card,\r\n  Typography,\r\n  Container,\r\n  styled,\r\n  IconButton\r\n} from '@mui/material';\r\nimport { Helmet } from 'react-helmet-async';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { useNavigate } from 'react-router';\r\nimport CloseIcon from '@mui/icons-material/Close';\r\nimport useAuth from 'src/hooks/useAuth';\r\nimport ResetPassword from './ResetPassword';\r\n\r\nconst MainContent = styled(Box)(\r\n  () => `\r\n  height: 100%;\r\n  display: flex;\r\n  flex: 1;\r\n  flex-direction: column;\r\n`\r\n);\r\n\r\nfunction ResetPasswordCover() {\r\n  const { method } = useAuth();\r\n  const { t } = useTranslation();\r\n  const navigate = useNavigate();\r\n  const handleClose = () => {\r\n    navigate('/');\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Helmet>\r\n        <title>Builder</title>\r\n      </Helmet>\r\n      <Box sx={{ display: 'flex', justifyContent: 'center', mt: 10 }}>\r\n        <img\r\n          width={70}\r\n          alt=\"Auth0\"\r\n          src=\"/static/images/logo/builder_logo.png\"\r\n        />\r\n      </Box>\r\n      <MainContent>\r\n        <Container maxWidth=\"sm\">\r\n          <Card\r\n            sx={{\r\n              mt: 1,\r\n              px: 4,\r\n              pt: 2,\r\n              pb: 3\r\n            }}\r\n          >\r\n            <Box sx={{ display: 'flex', justifyContent: 'flex-end' }}>\r\n              <IconButton onClick={handleClose}>\r\n                <CloseIcon fontSize=\"small\" />\r\n              </IconButton>\r\n            </Box>\r\n            <Box textAlign=\"center\">\r\n              <Typography\r\n                variant=\"h2\"\r\n                sx={{\r\n                  mb: 1\r\n                }}\r\n              >\r\n                {t('Change Password')}\r\n              </Typography>\r\n              <Typography\r\n                variant=\"h4\"\r\n                color=\"text.secondary\"\r\n                fontWeight=\"normal\"\r\n                sx={{\r\n                  mb: 3\r\n                }}\r\n              >\r\n                {t(\r\n                  'Fill in the fields below to Change Password for your account.'\r\n                )}\r\n              </Typography>\r\n            </Box>\r\n            {method === 'JWT' && <ResetPassword />}\r\n          </Card>\r\n        </Container>\r\n      </MainContent>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default ResetPasswordCover;\r\n"],"sourceRoot":""}