{"version":3,"sources":["content/meetings-n-visits/meetingCard.js","content/meetings-n-visits/meetingPopUp.js","content/meetings-n-visits/EditMeeting.js","content/meetings-n-visits/ClientVisitPopup.js","content/meetings-n-visits/calendar.jsx","content/meetings-n-visits/meetingDashboard.jsx","helpers/permissionHelper.js","components/EventPolls/TimePicker/TimePicker.js","components/EventPolls/TimePicker/index.js","content/blocks/Multiselect/mutliSelect.jsx"],"names":["AvatarWrapper","styled","Avatar","theme","spacing","MeetingCard","mainText","description","dateTime","data","ShowShareIcons","type","userData","JSON","parse","window","localStorage","getItem","useTheme","dispatch","useDispatch","useState","isLoading","setIsLoading","openNoti","setOpenNoti","errorMessage","setErrorMessage","successMessage","setSuccessMessage","handleStatusChange","status","a","payload","userPayload","id","userId","name","userName","phoneNumber","phone","email","meetCardStatusChange","_id","then","response","editMeetings","responseStat","sucessMessage","toUpperMutliple","regAndBookingCardStatusChange","clientId","toUpperCase","Card","variant","sx","height","Box","display","flexDirection","alignItems","py","pr","pl","background","flexWrap","Typography","fontSize","typography","pxToRem","meetingType","ml","color","Divider","mt","p","justifyContent","mr","mb","colors","success","lighter","palette","main","cursor","disabled","onClick","error","isOpen","isClosed","addMeetingCard","addMeetings","getbookingCard","getYourNotification","closeSuccessNotification","DialogWrapper","Dialog","Transition","forwardRef","props","ref","Slide","direction","MeetingPopUp","openConfirm","closeConfirm","handleEdit","noteOpen","setNoteOpen","brokerOpen","setBrokerOpen","teamOpen","setTeamOpen","brokerList","setBrokerList","teamList","setTeamList","broker","useSelector","state","meeting","brokersBygroup","team","notes","teamMember","project","setState","handleDelete","DeleteMeetings","useEffect","length","selectedBroker","requiredbrokerList","filter","item","filteredBroker","getSelectedBrokerIds","tempBroker","map","value","label","first_name","last_name","projectId","tempteam","t","relationManager","includes","addBrokersBygroupId","builderCompany","addUsers","getTeams","filterBroker","brokerParams","i","forEach","tempo","push","dateChanger","dateString","Date","toLocaleTimeString","hour","minute","hour12","toLowerCase","toDateString","handleInputChange","evt","target","handleSave","newBrokers","prevbroker","meetingDate","startTime","endTime","dayOfWeek","concat","agenda","organizer","console","log","isAddMeeting","canAddMeeting","isDeleteMeeting","canDeleteMeeting","open","maxWidth","fullWidth","TransitionComponent","keepMounted","onClose","px","pt","IconButton","fontWeight","font","width","TextField","multiline","margin","onChange","event","columnGap","primary","brokerArr","brokerName","split","isValid","join","getBrokersName","FormControl","required","handleChange","e","prevState","Array","isArray","placeholder","borderTop","borderBottom","borderColor","rowGap","InputLabel","Select","labelId","MenuItem","Button","startIcon","CircularProgress","size","meetings","errors","title","EditMeeting","prevData","handleDetailClose","addBrokers","addProjects","getValidValue","str","undefined","meetingCard","projectListBuilder","startDateValue","setStartDateValue","moment","startTimeValue","setStartTimeValue","endTimeValue","setEndTimeValue","weekDay","getBrokerList","user","builderId","formErrors","setFormErrors","getjointZValue","selectedDate","selecteTime","date","format","time","timeAndDate","toISOString","phone_number","handleAddMeeting","getUTCDay","handleClose","Modal","style","zIndex","position","top","left","transform","bgcolor","boxShadow","borderRadius","component","LocalizationProvider","dateAdapter","AdapterDateFns","marginTop","Grid","container","columnSpacing","rowSpacing","xs","DatePicker","minDate","compareAsc","renderInput","params","TimePicker","isToday","newValue","dateStr","endDate","tempTime","setMinutes","getMinutes","handleTime","rows","FormHelperText","borderBottomWidth","bottom","md","xl","ClientVisitPopup","rmList","setRMList","projects","RMs","RMMember","getProjectById","assignRm","getProjectName","locale","localizer","momentLocalizer","CalendarView","openModal","setOpenModal","setTime","openClientModal","setOpenClientModal","selectedEvent","setSelectedEvent","selectedEventEnd","setSelectedEventEnd","setOpen","closeModal","events","setEvents","extractEvents","getEndTime","tempDate","toUpper","allDay","start","end","getTime","now","setDate","getDate","setHours","setMilliseconds","setInterval","currentTime","setTimeout","div","document","getElementsByClassName","z","appendChild","classList","add","className","step","view","views","defaultDate","min","startOf","onSelectEvent","eventPropGetter","backgroundColor","border","editType","SwiperCore","use","Navigation","Pagination","SwiperWrapper","MeetingDashboard","getProjectByBuilderId","getUsersByGroupId","brokers","setBrokers","handleChangeTime","createMeeting","message","lg","my","sm","spaceBetween","slidesPerView","navigation","nextEl","prevEl","breakpoints","pagination","dynamicBullets","clickable","index","mx","renderDate","canCreateBroadcast","auth","output","roleName","permissions","some","permission","canCreateEvent","canAddCRMMembers","canAddMembers","canCreateProject","DeliTimePicker","minuteStep","rest","popupClassName","showSecond","hideDisabledOptions","use12Hours","disabledHours","hours","getDisabledHours","disabledMinutes","selectedHour","minutes","getDisabledMinutes","StyledTimePicker","animatedComponents","makeAnimated","customStyles","control","base","minHeight","MultipleSelect","options","minMenuHeight","styles","components","isMulti"],"mappings":"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","file":"static/js/52.9246b26f.chunk.js","sourcesContent":["import React, { useState } from 'react';\r\nimport {\r\n  Box,\r\n  Card,\r\n  Divider,\r\n  Typography,\r\n  useTheme,\r\n  Avatar,\r\n  styled\r\n} from '@mui/material';\r\nimport { useDispatch } from 'react-redux';\r\nimport CheckIcon from '@mui/icons-material/Check';\r\nimport ClearIcon from '@mui/icons-material/Clear';\r\n// import { showNotification } from 'src/utils/commonUtility';\r\n// import { notificationType } from 'src/constants/NotificationType';\r\nimport ShareOutlinedIcon from '@mui/icons-material/ShareOutlined';\r\nimport { getYourNotification } from 'src/slices/dashboard.js';\r\nimport {\r\n  meetCardStatusChange,\r\n  regAndBookingCardStatusChange,\r\n  editMeetings\r\n} from '../../axiosInstances/Api.js';\r\nimport { toUpperMutliple } from '../../utils/utilits';\r\nimport {\r\n  getbookingCard,\r\n  // getregistrationCard,\r\n  addMeetingCard,\r\n  addMeetings\r\n} from '../../slices/meetings';\r\nimport OpenNotification from '../ShowNotification/index.js';\r\n\r\nexport const AvatarWrapper = styled(Avatar)(\r\n  ({ theme }) => `\r\n    width: ${theme.spacing(5)};\r\n    height: ${theme.spacing(5)};\r\n  `\r\n);\r\n\r\nconst MeetingCard = ({\r\n  mainText,\r\n  description,\r\n  dateTime,\r\n  data,\r\n  ShowShareIcons = false,\r\n  type = 'clientVisit'\r\n}) => {\r\n  const userData = JSON.parse(window.localStorage.getItem('user'));\r\n  const theme = useTheme();\r\n  const dispatch = useDispatch();\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  const [openNoti, setOpenNoti] = useState(false);\r\n  const [errorMessage, setErrorMessage] = useState('');\r\n  const [successMessage, setSuccessMessage] = useState('');\r\n\r\n  const isClosed = (data) => {\r\n    if (data) {\r\n      setErrorMessage('');\r\n      setOpenNoti(false);\r\n      if (!errorMessage) {\r\n        // navigate(`/team/${selectedTab}`);\r\n        dispatch(addMeetingCard());\r\n        dispatch(addMeetings());\r\n        dispatch(getbookingCard());\r\n        dispatch(getYourNotification());\r\n      }\r\n    }\r\n  };\r\n\r\n  const closeSuccessNotification = () => {\r\n    setSuccessMessage('');\r\n  };\r\n\r\n  const handleStatusChange = async (status) => {\r\n    setIsLoading(true);\r\n    const payload = {\r\n      status\r\n    };\r\n    const userPayload = {\r\n      id: userData?.userId,\r\n      name: userData?.userName,\r\n      phoneNumber: userData?.phone,\r\n      email: userData?.email,\r\n      status\r\n    };\r\n    if (type === 'clientVisit') {\r\n      await meetCardStatusChange(data?._id, payload).then((response) => {\r\n        if (response?.status === 200 || response?.status === 201) {\r\n          editMeetings(data?._id, userPayload).then((responseStat) => {\r\n            if (responseStat === 200 || responseStat === 201) {\r\n              let sucessMessage = `Sucessfully ${toUpperMutliple(status)} `;\r\n              // showNotification(sucessMessage, notificationType.SUCCESS);\r\n              setOpenNoti(true);\r\n              setSuccessMessage(sucessMessage);\r\n              setIsLoading(false);\r\n\r\n            }\r\n          });\r\n        } else {\r\n          const errorMessage = 'Something went wrong';\r\n          setErrorMessage(errorMessage);\r\n          setOpenNoti(true);\r\n          setIsLoading(false);\r\n        }\r\n      });\r\n    } else {\r\n      await regAndBookingCardStatusChange(\r\n        data?.clientId?._id,\r\n        type,\r\n        status.toUpperCase()\r\n      ).then((response) => {\r\n        if (response?.status === 200 || response?.status === 201) {\r\n          let sucessMessage = `Sucessfully ${toUpperMutliple(status)} `;\r\n          // showNotification(sucessMessage, notificationType.SUCCESS);\r\n          setOpenNoti(true);\r\n          setSuccessMessage(sucessMessage);\r\n          setIsLoading(false);\r\n\r\n          // dispatch(getregistrationCard());\r\n        } else {\r\n         const  errorMessage = 'Something went wrong';\r\n          setErrorMessage(errorMessage);\r\n          setOpenNoti(true);\r\n          setIsLoading(false);\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n\r\n  return (\r\n    <>\r\n      <Card\r\n        variant=\"outlined\"\r\n        sx={{\r\n          height: '100%'\r\n        }}\r\n      >\r\n        <Box\r\n          sx={{\r\n            display: 'flex',\r\n            flexDirection: 'row',\r\n            alignItems: 'center',\r\n            py: 2,\r\n            pr: 4,\r\n            pl: 2,\r\n            background: '#fff1c9',\r\n            flexWrap: 'wrap'\r\n          }}\r\n        >\r\n          <Typography\r\n            sx={{\r\n              fontSize: `${theme.typography.pxToRem(14)}`\r\n            }}\r\n            variant=\"h4\"\r\n          >\r\n            {type === 'clientVisit'\r\n              ? data.meetingType === 'WALKIN'\r\n                ? `Walk In Requested by  `\r\n                : 'Client Visit Requested by  '\r\n              : type === 'registration'\r\n                ? 'Registration Requested by  '\r\n                : 'Booking Requested by  '}\r\n          </Typography>\r\n          <Typography\r\n            sx={{\r\n              fontSize: `${theme.typography.pxToRem(14)}`,\r\n              ml: 0.5,\r\n              color: '#499ae0'\r\n            }}\r\n            variant=\"h4\"\r\n          >\r\n            {mainText}\r\n          </Typography>\r\n        </Box>\r\n\r\n        <Divider />\r\n        <Box\r\n          mt={1}\r\n          p={2}\r\n          sx={{\r\n            display: 'flex',\r\n            flexDirection: 'column',\r\n            // alignItems: 'center',\r\n            justifyContent: 'space-between'\r\n          }}\r\n        >\r\n          <Box mr={2}>\r\n            <Typography\r\n              sx={{\r\n                fontSize: `${theme.typography.pxToRem(14)}`\r\n              }}\r\n              variant=\"subtitle1\"\r\n            >\r\n              {description}\r\n            </Typography>\r\n            <Typography\r\n              sx={{\r\n                fontSize: `${theme.typography.pxToRem(14)}`,\r\n                mb: 1\r\n              }}\r\n              variant=\"subtitle1\"\r\n            >\r\n              {dateTime}\r\n            </Typography>\r\n          </Box>\r\n          <Box\r\n            sx={{\r\n              display: 'flex',\r\n              flexDirection: 'row',\r\n              alignItems: 'center',\r\n              justifyContent: 'flex-start'\r\n\r\n            }}\r\n          >\r\n            <AvatarWrapper\r\n              sx={{\r\n                background: theme.colors.success.lighter,\r\n                color: theme.palette.success.main,\r\n                mr: 1,\r\n                cursor: 'pointer',\r\n                disabled: isLoading\r\n              }}\r\n              onClick={() => {\r\n                handleStatusChange('ACCEPTED');\r\n              }}\r\n            >\r\n              {ShowShareIcons ? (\r\n                <ShareOutlinedIcon fontSize=\"large\" />\r\n              ) : (\r\n                <CheckIcon fontSize=\"medium\" />\r\n              )}\r\n            </AvatarWrapper>\r\n\r\n            <AvatarWrapper\r\n              sx={{\r\n                background: theme.colors.error.lighter,\r\n                color: theme.palette.error.main,\r\n                cursor: 'pointer',\r\n                disabled: isLoading\r\n              }}\r\n              onClick={() => {\r\n                handleStatusChange('REJECTED');\r\n              }}\r\n            >\r\n              <ClearIcon fontSize=\"medium\" />\r\n            </AvatarWrapper>\r\n          </Box>\r\n        </Box>\r\n      <OpenNotification isOpen={openNoti} isClosed={isClosed} errorMessage={errorMessage} successMessage={successMessage} closeSuccessNotification={closeSuccessNotification} />\r\n\r\n      </Card>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default MeetingCard;\r\n","import React, { forwardRef, useState, useEffect } from 'react';\r\nimport {\r\n  IconButton,\r\n  Box,\r\n  Slide,\r\n  Button,\r\n  Dialog,\r\n  styled,\r\n  Typography,\r\n  useTheme,\r\n  TextField,\r\n  CircularProgress\r\n} from '@mui/material';\r\nimport FormControl from '@mui/material/FormControl';\r\nimport MenuItem from '@mui/material/MenuItem';\r\nimport InputLabel from '@mui/material/InputLabel';\r\nimport Select from '@mui/material/Select';\r\n// import { showNotification } from 'src/utils/commonUtility';\r\n// import { notificationType } from 'src/constants/NotificationType';\r\nimport { canAddMeeting, canDeleteMeeting } from 'src/helpers/permissionHelper';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport CloseIcon from '@mui/icons-material/Close';\r\nimport MultipleSelect from '../../content/blocks/Multiselect/mutliSelect';\r\nimport { isValid, toUpperMutliple } from '../../utils/utilits';\r\nimport { DeleteMeetings, editMeetings } from '../../axiosInstances/Api';\r\nimport {\r\n  addMeetings,\r\n  // addBrokers,\r\n  addUsers,\r\n  addBrokersBygroupId\r\n} from '../../slices/meetings';\r\nimport { getTeams } from '../../slices/team';\r\nimport OpenNotification from '../ShowNotification';\r\n\r\nconst DialogWrapper = styled(Dialog)(\r\n  () => `\r\n        .MuiDialog-paper {\r\n          overflow: visible;\r\n        }\r\n  `\r\n);\r\nconst Transition = forwardRef(function Transition(props, ref) {\r\n  return <Slide direction=\"down\" ref={ref} {...props} />;\r\n});\r\n\r\nconst MeetingPopUp = ({ openConfirm, closeConfirm, data, handleEdit }) => {\r\n  const theme = useTheme();\r\n  const dispatch = useDispatch();\r\n  const [noteOpen, setNoteOpen] = useState(false);\r\n  const [brokerOpen, setBrokerOpen] = useState(false);\r\n  const [teamOpen, setTeamOpen] = useState(false);\r\n  const [brokerList, setBrokerList] = useState([]);\r\n  const [teamList, setTeamList] = useState([]);\r\n  const broker = useSelector((state) => state.meeting?.brokersBygroup);\r\n  const team = useSelector((state) => state.team?.teamList);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const userData = JSON.parse(window.localStorage.getItem('user'));\r\n\r\n\r\n  const [state, setState] = useState({\r\n    notes: '',\r\n    broker: [],\r\n    teamMember: '',\r\n    project: ''\r\n  });\r\n\r\n  const [openNoti, setOpenNoti] = useState(false);\r\n  const [errorMessage, setErrorMessage] = useState('');\r\n  const [successMessage, setSuccessMessage] = useState('');\r\n   \r\n  const isClosed = (data) => {\r\n    if (data) {\r\n      setErrorMessage('');\r\n      setOpenNoti(false);\r\n      if (!errorMessage) {\r\n        closeConfirm();\r\n        dispatch(addMeetings());\r\n        // navigate(`/team/${selectedTab}`);\r\n      }\r\n    }\r\n  };\r\n\r\n  const closeSuccessNotification = () => {\r\n    setSuccessMessage('');\r\n  };\r\n\r\n  const handleDelete = async (id) => {\r\n    const response = await DeleteMeetings(id);\r\n    if (response === 202) {\r\n      // let sucessMessage = 'Meeting Cancelled';\r\n      // showNotification(sucessMessage, notificationType.SUCCESS);\r\n      // setIsLoading(false);\r\n      setOpenNoti(true); \r\n      setSuccessMessage('Meeting Cancelled');\r\n      setIsLoading(false);\r\n      \r\n      // dispatch(addMeetings());\r\n    } else {\r\n      // let errorMessage = 'Something went wrong';\r\n      // showNotification(errorMessage, notificationType.ERROR);\r\n      // setIsLoading(false);\r\n      const errorMessage = 'Something went wrong';\r\n      setErrorMessage(errorMessage);\r\n      setOpenNoti(true);\r\n      setIsLoading(false);\r\n\r\n    }\r\n  }\r\n\r\n  const isDetailEdit = () => {\r\n    return state?.notes !== '' || state?.broker.length > 0 || state?.teamMember;\r\n  };\r\n  const getItem = (id, selectedBroker) => {\r\n    let matchedlist = selectedBroker.filter((item) => item.id === id);\r\n    return matchedlist.length === 0;\r\n  };\r\n  const getSelectedBrokerIds = (selectedBroker, brokerList) => {\r\n    let requiredbrokerList = [];\r\n    requiredbrokerList = brokerList.filter((item) => {\r\n      let filteredBroker = getItem(item._id, selectedBroker);\r\n      if (filteredBroker) {\r\n        return true;\r\n      }\r\n      return false;\r\n    });\r\n    return requiredbrokerList;\r\n  };\r\n  useEffect(() => {\r\n    if (broker.length) {\r\n      let brokerList = getSelectedBrokerIds(data?.broker, broker);\r\n      let tempBroker = brokerList.map((item) => {\r\n        return {\r\n          value: item._id,\r\n          label: `${item?.first_name} ${item?.last_name ? item?.last_name : ''}`\r\n        };\r\n      });\r\n      setBrokerList(tempBroker);\r\n    }\r\n    if(data.projectId){\r\n      setState({\r\n        ...state,\r\n        project:data.projectId\r\n      })\r\n    }\r\n    if (team.length && data.projectId) {\r\n      let tempteam = team.filter((t) =>\r\n    data.projectId.relationManager.includes(t._id)\r\n);\r\n      setTeamList(tempteam);\r\n    }else{\r\n      setTeamList(team);\r\n    }\r\n  }, [broker.length, team]);\r\n\r\n  useEffect(() => {\r\n    dispatch(addBrokersBygroupId(userData.builderCompany[0]));\r\n    dispatch(addUsers());\r\n    dispatch(getTeams());\r\n  }, []);\r\n\r\n  const filterBroker = (brokerParams) => {\r\n    let payload = [];\r\n    if (broker.length) {\r\n      for (let i = 0; i < brokerParams.length; i++) {\r\n        const tempBroker = broker.filter(\r\n          (item) => item._id === brokerParams[i]?.value\r\n        );\r\n        tempBroker.forEach((item) => {\r\n          let tempo = {\r\n            id: item._id,\r\n            name: `${item.first_name} ${item.last_name}`,\r\n            phoneNumber: item.phoneNumber,\r\n            email: item.email,\r\n            status: 'Invited'\r\n          };\r\n          payload.push(tempo);\r\n        });\r\n      }\r\n    }\r\n    return payload;\r\n  };\r\n  const dateChanger = (dateString, type) => {\r\n    let time = '';\r\n    let date = '';\r\n    if (type === 'time') {\r\n      time = new Date(dateString)\r\n        .toLocaleTimeString([], {\r\n          hour: '2-digit',\r\n          minute: '2-digit',\r\n          hour12: true\r\n        })\r\n        .toLowerCase();\r\n      return time;\r\n    }\r\n    date = new Date(dateString).toDateString();\r\n    return date;\r\n  };\r\n  const getBrokersName = (brokerArr) => {\r\n    let brokerName;\r\n    if (brokerArr?.length > 0) {\r\n      brokerName = brokerArr?.map((item) => {\r\n        let name = item?.name.split(' ');\r\n        return `${name[0]} ${isValid(name[1]) ? name[1] : ''}`;\r\n      });\r\n    }\r\n\r\n    return brokerName?.length > 0\r\n      ? brokerName.join(' , ')\r\n      : 'No brokers invited yet';\r\n  };\r\n  function handleInputChange(evt) {\r\n    const value = evt.target.value;\r\n    setState({\r\n      ...state,\r\n      [evt.target.name]: value\r\n    });\r\n  }\r\n  const handleMultipleDDChange = (e) => {\r\n    setState((prevState) => ({\r\n      ...prevState,\r\n      broker: Array.isArray(e) ? e : []\r\n    }));\r\n  };\r\n  const handleSave = async () => {\r\n    let newBrokers = filterBroker(state.broker);\r\n    let prevbroker = data?.broker;\r\n    let payload = {\r\n      meetingDate: data?.meetingDate,\r\n      startTime: data?.startTime,\r\n      endTime: data?.endTime,\r\n      dayOfWeek: data?.dayOfWeek,\r\n      broker: prevbroker.concat(newBrokers),\r\n      agenda: data?.agenda,\r\n      notes: data?.notes.length > 0 ? data?.notes : state.notes,\r\n      builderCompany: userData.builderCompany[0]\r\n    };\r\n    if (state?.teamMember) {\r\n      payload.organizer = state?.teamMember\r\n    }\r\n\r\n    if (state.project !== '') {\r\n      payload.projectId = data?.projectId;\r\n    }\r\n    setIsLoading(true);\r\n    const response = await editMeetings(data?._id, payload);\r\n    if (response === 200 || response === 201) {\r\n      let sucessMessage = 'Sucessfully Edited Meeting';\r\n      console.log('stateteam',state?.teamMember)\r\n      if(state?.teamMember){\r\n         sucessMessage = 'Sucessfully Edited and Ressigned the meeting';\r\n      }\r\n\r\n      setOpenNoti(true); \r\n      setSuccessMessage(sucessMessage);\r\n      setIsLoading(false);\r\n      // showNotification(sucessMessage, notificationType.SUCCESS);\r\n      // dispatch(addMeetings());\r\n      // closeConfirm();\r\n    } else {\r\n      const errorMessage = 'Something went wrong';\r\n      setErrorMessage(errorMessage);\r\n      setOpenNoti(true);\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n  const isAddMeeting = canAddMeeting();\r\n  const isDeleteMeeting = canDeleteMeeting();\r\n  return (\r\n    <>\r\n      <DialogWrapper\r\n        open={openConfirm}\r\n        maxWidth=\"xs\"\r\n        fullWidth\r\n        TransitionComponent={Transition}\r\n        keepMounted\r\n        onClose={closeConfirm}\r\n      >\r\n        <Box\r\n          sx={{\r\n            display: 'flex',\r\n            justifyContent: 'flex-end',\r\n            alignItems: 'center',\r\n            px: 2,\r\n            pt: 1\r\n          }}\r\n        >\r\n          <IconButton onClick={closeConfirm}>\r\n            <CloseIcon fontSize=\"large\" sx={{ color: 'divider' }} />\r\n          </IconButton>\r\n        </Box>\r\n        <Box sx={{ px: 5 }}>\r\n          <Box>\r\n            <Typography variant=\"h3\" sx={{ mb: 0.5 }}>\r\n              {toUpperMutliple(data.agenda)}\r\n            </Typography>\r\n            <Typography\r\n              variant=\"h4\"\r\n              sx={{\r\n                fontWeight: 'lighter',\r\n                font: 'Helvetica Neue Medium'\r\n              }}\r\n            >\r\n              {dateChanger(data?.meetingDate, 'date')} - at{' '}\r\n              {dateChanger(data?.startTime, 'time')}\r\n            </Typography>\r\n          </Box>\r\n          <Box sx={{ pt: 3 }}>\r\n            <Typography\r\n              variant=\"h4\"\r\n              sx={{\r\n                fontWeight: 'normal',\r\n                font: 'Helvetica Neue Medium',\r\n                mb: 0.5\r\n              }}\r\n            >\r\n              Notes\r\n            </Typography>\r\n            {data?.notes.length > 0 ? (\r\n              <Typography\r\n                variant=\"h4\"\r\n                sx={{\r\n                  font: 'Helvetica Neue Medium'\r\n                }}\r\n              >\r\n                {data?.notes}\r\n              </Typography>\r\n            ) : (\r\n              <>\r\n                {!noteOpen ? (\r\n                  <>\r\n                    <Box\r\n                      sx={{\r\n                        display: 'flex',\r\n                        justifyContent: 'flex-start',\r\n                        alignItems: 'center',\r\n                        columnGap: 1\r\n                      }}\r\n                    >\r\n                      <Typography\r\n                        variant=\"subtitle2\"\r\n                        sx={{\r\n                          fontWeight: 600,\r\n                          font: 'Helvetica Neue Medium',\r\n                          color: '#c0c1c3'\r\n                        }}\r\n                      >\r\n                        No notes added,\r\n                      </Typography>\r\n                      <Typography\r\n                        variant=\"subtitle2\"\r\n                        onClick={() => {\r\n                          setNoteOpen(true);\r\n                        }}\r\n                        sx={{\r\n                          fontWeight: 600,\r\n                          font: 'Helvetica Neue Medium',\r\n                          color: theme.palette.primary.main,\r\n                          cursor: 'pointer'\r\n                        }}\r\n                      >\r\n                        Add now\r\n                      </Typography>\r\n                    </Box>\r\n                  </>\r\n                ) : (\r\n                  <>\r\n                    <Typography\r\n                      variant=\"subtitle2\"\r\n                      onClick={() => {\r\n                        setNoteOpen(false);\r\n                        setState({\r\n                          ...state,\r\n                          notes: ''\r\n                        });\r\n                      }}\r\n                      sx={{\r\n                        fontWeight: 600,\r\n                        font: 'Helvetica Neue Medium',\r\n                        color: theme.palette.error.main,\r\n                        cursor: 'pointer'\r\n                      }}\r\n                    >\r\n                      Click to close\r\n                    </Typography>\r\n                    <Box width=\"100%\" sx={{ mt: -1 }}>\r\n                      <TextField\r\n                        fullWidth\r\n                        multiline\r\n                        margin=\"normal\"\r\n                        label=\"Notes\"\r\n                        name=\"notes\"\r\n                        onChange={(event) => handleInputChange(event)}\r\n                        value={state.notes}\r\n                        variant=\"outlined\"\r\n                      />\r\n                    </Box>\r\n                  </>\r\n                )}\r\n              </>\r\n            )}\r\n          </Box>\r\n\r\n          <Box sx={{ py: 3 }}>\r\n            <Typography\r\n              variant=\"h4\"\r\n              sx={{\r\n                fontWeight: 'normal',\r\n                font: 'Helvetica Neue Medium',\r\n                mb: 0.5\r\n              }}\r\n            >\r\n              Channel Partner Invited\r\n            </Typography>\r\n\r\n            <Typography variant=\"h4\">{getBrokersName(data.broker)}</Typography>\r\n            {!brokerOpen ? (\r\n              new Date() <= new Date(data.meetingDate) && <Typography\r\n                variant=\"subtitle2\"\r\n                onClick={() => {\r\n                  setBrokerOpen(true);\r\n                }}\r\n                sx={{\r\n                  fontWeight: 600,\r\n                  font: 'Helvetica Neue Medium',\r\n                  color: theme.palette.primary.main,\r\n                  cursor: 'pointer'\r\n                }}\r\n              >\r\n                Invite more Channel Partner\r\n              </Typography>\r\n            ) : (\r\n              <>\r\n                <Typography\r\n                  variant=\"subtitle2\"\r\n                  onClick={() => {\r\n                    setBrokerOpen(false);\r\n                    setState({\r\n                      ...state,\r\n                      broker: []\r\n                    });\r\n                  }}\r\n                  sx={{\r\n                    fontWeight: 600,\r\n                    font: 'Helvetica Neue Medium',\r\n                    color: theme.palette.error.main,\r\n                    cursor: 'pointer',\r\n                    mb: 0.5\r\n                  }}\r\n                >\r\n                  Click to close\r\n                </Typography>\r\n                <FormControl fullWidth required>\r\n                  <MultipleSelect\r\n                    data={brokerList}\r\n                    value={state?.broker}\r\n                    handleChange={handleMultipleDDChange}\r\n                    placeholder={<div>Broker</div>}\r\n                  />\r\n                </FormControl>\r\n              </>\r\n            )}\r\n          </Box>\r\n        </Box>\r\n        {new Date() <= new Date(data.meetingDate) && <Box\r\n          sx={{\r\n            display: 'flex',\r\n            justifyContent: 'flex-start',\r\n            alignItems: 'center',\r\n            columnGap: 1,\r\n            background: '#f5f8fd',\r\n            borderTop: 1.5,\r\n            borderBottom: 1.5,\r\n            borderColor: 'divider',\r\n            px: 5,\r\n            py: 2,\r\n            mt: 2\r\n          }}\r\n        >\r\n          {!teamOpen ? (\r\n            <>\r\n              <Typography\r\n                variant=\"h4\"\r\n                sx={{\r\n                  fontWeight: 'normal',\r\n                  font: 'Helvetica Neue Medium'\r\n                }}\r\n              >\r\n                Not available?\r\n              </Typography>\r\n              <Typography\r\n                variant=\"h4\"\r\n                onClick={() => {\r\n                  setTeamOpen(true);\r\n                }}\r\n                sx={{\r\n                  fontWeight: 600,\r\n                  font: 'Helvetica Neue Medium',\r\n                  color: theme.palette.primary.main,\r\n                  cursor: 'pointer'\r\n                }}\r\n              >\r\n                Reassign to a team member\r\n              </Typography>\r\n            </>\r\n          ) : (\r\n            <>\r\n              <Box width=\"100%\">\r\n                <Box\r\n                  sx={{\r\n                    display: 'flex',\r\n                    justifyContent: 'flex-start',\r\n                    alignItems: 'center',\r\n                    columnGap: 1,\r\n                    rowGap: 1,\r\n                    mb: 0.5\r\n                  }}\r\n                >\r\n                  <InputLabel\r\n                    variant=\"subtitle2\"\r\n                    sx={{\r\n                      fontWeight: 600,\r\n                      font: 'Helvetica Neue Medium'\r\n                    }}\r\n                  >\r\n                    Select Team Member\r\n                  </InputLabel>\r\n                  <Typography\r\n                    variant=\"subtitle2\"\r\n                    onClick={() => {\r\n                      setTeamOpen(false);\r\n                      setState({\r\n                        ...state,\r\n                        teamMember: ''\r\n                      });\r\n                    }}\r\n                    sx={{\r\n                      fontWeight: 600,\r\n                      font: 'Helvetica Neue Medium',\r\n                      color: theme.palette.error.main,\r\n                      cursor: 'pointer'\r\n                    }}\r\n                  >\r\n                    Click to close\r\n                  </Typography>\r\n                </Box>\r\n                <FormControl fullWidth required>\r\n                  <Select\r\n                    labelId=\"demo-simple-select-label\"\r\n                    name=\"teamMember\"\r\n                    id=\"demo-simple-select\"\r\n                    value={state.teamMember}\r\n                    placeholder=\"Team Member\"\r\n                    onChange={(event) => handleInputChange(event)}\r\n                  >\r\n                    <MenuItem value=\"\">\r\n                      <em>None</em>\r\n                    </MenuItem>\r\n                    {teamList.map((item) => {\r\n                      return (\r\n                        <MenuItem\r\n                          value={item._id}\r\n                        >{`${item.first_name} ${item.last_name}`}</MenuItem>\r\n                      );\r\n                    })}\r\n                  </Select>\r\n                </FormControl>\r\n              </Box>\r\n            </>\r\n          )}\r\n        </Box>}\r\n        <Box\r\n          sx={{\r\n            display: 'flex',\r\n            justifyContent: 'flex-start',\r\n            alignItems: 'center',\r\n            px: 5,\r\n            py: 3\r\n          }}\r\n        >\r\n          {!isDetailEdit() ? (\r\n              new Date() <= new Date(data.meetingDate) && (\r\n              <Box display='flex' justifyContent='space-between' alignItems='center'>\r\n                {isAddMeeting && <Button\r\n                  variant=\"contained\"\r\n                  fullWidth\r\n                  onClick={() => handleEdit()}\r\n                  sx={{\r\n                    mr: 2,\r\n                  }}\r\n                >\r\n                  Edit\r\n                </Button>\r\n                }\r\n\r\n                {isDeleteMeeting && <Button variant=\"outlined\" fullWidth onClick={() => handleDelete(data._id)}>\r\n                  Delete\r\n                </Button>}\r\n              </Box>\r\n            )\r\n          ) : (\r\n            <Button\r\n              variant=\"contained\"\r\n              fullWidth\r\n              startIcon={isLoading ? <CircularProgress size=\"1rem\" /> : null}\r\n              disabled={isLoading}\r\n              onClick={() => {\r\n                handleSave();\r\n              }}\r\n            >\r\n              {' '}\r\n              Save changes\r\n            </Button>\r\n          )}\r\n        </Box>\r\n\r\n      </DialogWrapper>\r\n      <OpenNotification isOpen={openNoti} isClosed={isClosed} errorMessage={errorMessage} successMessage={successMessage} closeSuccessNotification={closeSuccessNotification} />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default MeetingPopUp;\r\n","import React, { useState, useEffect } from 'react';\r\nimport moment from 'moment';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport {\r\n  Box,\r\n  Button,\r\n  Typography,\r\n  Modal,\r\n  TextField,\r\n  Grid,\r\n  CircularProgress,\r\n  Divider,\r\n  FormHelperText\r\n} from '@mui/material';\r\nimport { DatePicker } from '@mui/lab';\r\nimport LocalizationProvider from '@mui/lab/LocalizationProvider';\r\n// import { showNotification } from 'src/utils/commonUtility';\r\n// import { notificationType } from 'src/constants/NotificationType';\r\nimport AdapterDateFns from '@mui/lab/AdapterDateFns';\r\nimport { compareAsc } from 'date-fns';\r\nimport MenuItem from '@mui/material/MenuItem';\r\nimport FormControl from '@mui/material/FormControl';\r\nimport InputLabel from '@mui/material/InputLabel';\r\nimport Select from '@mui/material/Select';\r\nimport TimePicker from 'src/components/EventPolls/TimePicker/index.js';\r\nimport MultipleSelect from '../../content/blocks/Multiselect/mutliSelect';\r\nimport { isValid } from '../../utils/utilits';\r\nimport { editMeetings } from '../../axiosInstances/Api';\r\nimport {\r\n  addMeetings,\r\n  addBrokers,\r\n  addUsers,\r\n  addProjects,\r\n  addMeetingCard\r\n} from '../../slices/meetings';\r\nimport OpenNotification from '../ShowNotification';\r\n\r\nlet meetings = [];\r\n\r\nconst errors = {\r\n  title: false,\r\n  project: false,\r\n  broker: false\r\n};\r\nfunction EditMeeting({ prevData, open, handleDetailClose }) {\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    dispatch(addMeetings());\r\n    dispatch(addBrokers());\r\n    dispatch(addUsers());\r\n    dispatch(addProjects());\r\n    dispatch(addMeetingCard());\r\n  }, []);\r\n  const getValidValue = (str) => {\r\n    if (str !== null && str !== undefined) {\r\n      return str;\r\n    }\r\n    return '';\r\n  };\r\n  const getBrokerList = (brokerArr) => {\r\n    let tempBroker = [];\r\n    if (brokerArr.length > 0) {\r\n      tempBroker = brokerArr.map((item) => {\r\n        let name = item?.name.split(' ');\r\n        return {\r\n          value: item.id,\r\n          label: `${name[0]} ${isValid(name[1]) ? name[1] : ''}`\r\n        };\r\n      });\r\n    }\r\n    return tempBroker;\r\n  };\r\n  const broker = useSelector((state) => state.meeting?.brokersBygroup );\r\n  meetings = useSelector((state) => state.meeting?.meetingCard);\r\n  const project = useSelector((state) => state.meeting?.projectListBuilder);\r\n  const [startDateValue, setStartDateValue] = useState(\r\n    new Date(prevData.startTime)\r\n  );\r\n  const [startTimeValue, setStartTimeValue] = useState(\r\n    moment(prevData.startTime)\r\n  );\r\n  const [endTimeValue, setEndTimeValue] = useState(moment(prevData.endTime));\r\n  const [brokerList, setBrokerList] = useState([]);\r\n  const userData = JSON.parse(window.localStorage.getItem('user'));\r\n  const weekDay = [\r\n    'sunday',\r\n    'monday',\r\n    'tuesday',\r\n    'wednesday',\r\n    'thursday',\r\n    'friday',\r\n    'saturday'\r\n  ];\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [state, setState] = useState({\r\n    agenda: getValidValue(prevData?.agenda),\r\n    notes: getValidValue(prevData?.notes),\r\n    broker: getBrokerList(prevData?.broker),\r\n    user: getValidValue(prevData?.builderId),\r\n    project: prevData?.projectId?._id\r\n  });\r\n  const [formErrors, setFormErrors] = useState(errors);\r\n  \r\n\r\n  const handleTime = (newValue) => {\r\n    setStartTimeValue(newValue);\r\n    const dateStr = new Date(newValue);\r\n    const endDate = new Date(newValue);\r\n    const tempTime = endDate?.setMinutes(dateStr?.getMinutes() + 30);\r\n    setEndTimeValue(moment(tempTime));\r\n  };\r\n  const getjointZValue = (selectedDate, selecteTime) => {\r\n    const date = moment(selectedDate).format('YYYY/MM/DD');\r\n    let time = moment(selecteTime).format('HH:mm');\r\n    let timeAndDate = moment(`${date} ${time}`);\r\n    return new Date(timeAndDate).toISOString();\r\n  };\r\n  const getIsToDay = () => {\r\n    let today = moment(new Date()).format('YYYY/MM/DD');\r\n    let selectedday = moment(startDateValue).format('YYYY/MM/DD');\r\n    return today === selectedday;\r\n  };\r\n  useEffect(() => {}, [meetings]);\r\n  useEffect(() => {\r\n    if (broker.length) {\r\n      let tempBroker = broker.map((item) => {\r\n        return {\r\n          value: item._id,\r\n          label: `${item?.first_name} ${item?.last_name ? item?.last_name : ''}`\r\n        };\r\n      });\r\n      setBrokerList(tempBroker);\r\n    }\r\n  }, [broker.length]);\r\n  function handleInputChange(evt) {\r\n    const value = evt.target.value;\r\n    if (evt.target.name === 'agenda' || evt.target.value !== '') {\r\n      setFormErrors((formErrors) => ({ ...formErrors, title: false }));\r\n    }\r\n    if (evt.target.name === 'broker' || evt.target.value !== '') {\r\n      setFormErrors((formErrors) => ({ ...formErrors, broker: false }));\r\n    }\r\n    setState({\r\n      ...state,\r\n      [evt.target.name]: value\r\n    });\r\n  }\r\n  const filterBroker = (brokerParams) => {\r\n    let payload = [];\r\n    if (broker.length) {\r\n      for (let i = 0; i < brokerParams.length; i++) {\r\n        const tempBroker = broker.filter(\r\n          (item) => item._id === brokerParams[i]?.value\r\n        );\r\n        tempBroker.forEach((item) => {\r\n          let tempo = {\r\n            id: item._id,\r\n            name: `${item.first_name} ${item.last_name}`,\r\n            phoneNumber: item?.phone_number,\r\n            email: item.email,\r\n            status: 'Invited'\r\n          };\r\n          payload.push(tempo);\r\n        });\r\n      }\r\n    }\r\n    return payload;\r\n  };\r\n\r\n  const [openNoti, setOpenNoti] = useState(false);\r\n  const [errorMessage, setErrorMessage] = useState('');\r\n  const [successMessage, setSuccessMessage] = useState('');\r\n\r\n    \r\n  const isClosed = (data) => {\r\n    if (data) {\r\n      setErrorMessage('');\r\n      setOpenNoti(false);\r\n      if (!errorMessage) {\r\n        // navigate(`/team/${selectedTab}`);\r\n        dispatch(addMeetings());\r\n      handleClose();\r\n      }\r\n    }\r\n  };\r\n  const closeSuccessNotification = () => {\r\n    setSuccessMessage('');\r\n  };\r\n    \r\n  const handleAddMeeting = async () => {\r\n    if (!state.agenda) {\r\n      setFormErrors((formErrors) => ({ ...formErrors, title: true }));\r\n    }\r\n    if (!state.broker) {\r\n      setFormErrors((formErrors) => ({ ...formErrors, broker: true }));\r\n    }\r\n    if (!state.agenda || !state.broker) {\r\n      return;\r\n    }\r\n    let startTime = getjointZValue(startDateValue, startTimeValue);\r\n    let endTime = getjointZValue(startDateValue, endTimeValue);\r\n    let payload = {\r\n      meetingDate: startTime,\r\n      startTime,\r\n      endTime,\r\n      dayOfWeek: weekDay[startDateValue.getUTCDay()],\r\n      broker: filterBroker(state.broker),\r\n      agenda: state.agenda,\r\n      notes: state.notes,\r\n      builderCompany: userData.builderCompany[0]\r\n    };\r\n    if (state.project !== '') {\r\n      payload.projectId = state.project;\r\n    }\r\n    setIsLoading(true);\r\n    const response = await editMeetings(prevData?._id, payload);\r\n    if (response === 200 || response === 201) {\r\n      let sucessMessage = 'Sucessfully Edited Meeting';\r\n      // showNotification(sucessMessage, notificationType.SUCCESS);\r\n      // setIsLoading(false);\r\n      setOpenNoti(true); \r\n      setSuccessMessage(sucessMessage);\r\n      setIsLoading(false);\r\n      \r\n    } else {\r\n      const errorMessage = 'Something went wrong';\r\n      setErrorMessage(errorMessage);\r\n      setOpenNoti(true);\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const style = {\r\n    position: 'absolute',\r\n    top: '50%',\r\n    left: '50%',\r\n    transform: 'translate(-50%, -50%)',\r\n    width: 600,\r\n    bgcolor: 'background.paper',\r\n    boxShadow: 24,\r\n    borderRadius: 1,\r\n    p: 2\r\n  };\r\n  const handleClose = () => {\r\n    setFormErrors(errors);\r\n    handleDetailClose();\r\n  };\r\n  const handleMultipleDDChange = (e) => {\r\n    if (Array.isArray(e) && e.length) {\r\n      setFormErrors((formErrors) => ({ ...formErrors, broker: false }));\r\n    }\r\n    setState((prevState) => ({\r\n      ...prevState,\r\n      broker: Array.isArray(e) ? e : []\r\n    }));\r\n  };\r\n  return (\r\n    <>\r\n      <Modal\r\n        open={open}\r\n        onClose={handleClose}\r\n        aria-labelledby=\"modal-modal-title\"\r\n        aria-describedby=\"modal-modal-description\"\r\n        style={{ zIndex: 7 }}\r\n      >\r\n        <Box sx={style}>\r\n          <Typography id=\"modal-modal-title\" variant=\"h4\" component=\"h1\">\r\n            Edit Meeting\r\n          </Typography>\r\n          <Box>\r\n            <LocalizationProvider dateAdapter={AdapterDateFns}>\r\n              <Box\r\n                style={{\r\n                  marginTop: 25\r\n                }}\r\n              >\r\n                <Grid container columnSpacing={2} rowSpacing={2}>\r\n                  <Grid item xs={7}>\r\n                    <Box width=\"100%\">\r\n                      <TextField\r\n                        fullWidth\r\n                        margin=\"normal\"\r\n                        label=\"Meeting Title\"\r\n                        name=\"agenda\"\r\n                        required\r\n                        onChange={(event) => handleInputChange(event)}\r\n                        value={state.agenda}\r\n                        variant=\"outlined\"\r\n                        error={formErrors?.title}\r\n                      />\r\n                      {formErrors?.title && (\r\n                        <span style={{ color: '#d32f2f' }}>\r\n                          This field is required\r\n                        </span>\r\n                      )}\r\n                    </Box>\r\n                  </Grid>\r\n                  <Grid item xs={5}>\r\n                    <Box width=\"100%\" sx={{ mt: '15px' }}>\r\n                      <DatePicker\r\n                        label=\"Date\"\r\n                        value={startDateValue}\r\n                        minDate={new Date()}\r\n                        onChange={(date) => {\r\n                          setStartDateValue(date);\r\n                          if (compareAsc(startDateValue, date) === 1) {\r\n                            setStartTimeValue(moment());\r\n                          }\r\n                        }}\r\n                        renderInput={(params) => (\r\n                          <TextField fullWidth {...params} />\r\n                        )}\r\n                      />\r\n                    </Box>\r\n                  </Grid>\r\n                  <Grid item xs={7}>\r\n                    <Box width=\"100%\">\r\n                      <FormControl fullWidth>\r\n                        <InputLabel id=\"demo-simple-select-label\">\r\n                          Link Project\r\n                        </InputLabel>\r\n                        <Select\r\n                          labelId=\"demo-simple-select-label\"\r\n                          id=\"demo-simple-select\"\r\n                          value={state.project}\r\n                          name=\"project\"\r\n                          label=\"Project\"\r\n                          onChange={(event) => handleInputChange(event)}\r\n                        >\r\n                          <MenuItem value=\"\">\r\n                            <em>None</em>\r\n                          </MenuItem>\r\n                          {project?.map((item) => {\r\n                            return (\r\n                              <MenuItem value={item._id}>{item.name}</MenuItem>\r\n                            );\r\n                          })}\r\n                        </Select>\r\n                      </FormControl>\r\n                    </Box>\r\n                  </Grid>\r\n                  <Grid item xs={5}>\r\n                    <Box width=\"100%\">\r\n                      <TimePicker\r\n                        style={{\r\n                          width: '-webkit-fill-available',\r\n                          borderRadius: '16px',\r\n                          height: '50px'\r\n                        }}\r\n                        value={startTimeValue}\r\n                        isToday={getIsToDay()}\r\n                        startTime={moment()}\r\n                        onChange={(newValue) => {\r\n                          handleTime(newValue);\r\n                        }}\r\n                      />\r\n                    </Box>\r\n                  </Grid>\r\n\r\n                  <Grid item xs={12}>\r\n                    <Box width=\"100%\">\r\n                      <TextField\r\n                        fullWidth\r\n                        multiline\r\n                        rows={3}\r\n                        margin=\"normal\"\r\n                        label=\"Notes\"\r\n                        name=\"notes\"\r\n                        onChange={(event) => handleInputChange(event)}\r\n                        value={state.notes}\r\n                        variant=\"outlined\"\r\n                      />\r\n                    </Box>\r\n                  </Grid>\r\n\r\n                  <Grid item xs={12}>\r\n                    <Box width=\"100%\">\r\n                      <FormControl fullWidth required>\r\n                        <MultipleSelect\r\n                          data={brokerList}\r\n                          value={state?.broker}\r\n                          handleChange={handleMultipleDDChange}\r\n                          placeholder='Channel Partner *'\r\n                        />\r\n                        {formErrors?.broker && (\r\n                          <FormHelperText error=\"true\">\r\n                            This Field is Required\r\n                          </FormHelperText>\r\n                        )}\r\n                      </FormControl>\r\n                    </Box>\r\n                  </Grid>\r\n                </Grid>\r\n              </Box>\r\n            </LocalizationProvider>\r\n            <Box mb={5} position=\"relative\" top=\"25px\">\r\n              <Divider sx={{ borderBottomWidth: 5 }} />\r\n            </Box>\r\n            <Box\r\n              position=\"relative\"\r\n              xs={{ bottom: '6px' }}\r\n              md={{ bottom: '0px' }}\r\n              xl={{ bottom: '0px' }}\r\n            >\r\n              <Button\r\n                variant=\"contained\"\r\n                onClick={() => handleAddMeeting()}\r\n              >\r\n                {isLoading ? (\r\n                  <CircularProgress\r\n                    size={22}\r\n                    style={{\r\n                      color: 'white'\r\n                    }}\r\n                  />\r\n                ) : (\r\n                  'Save Changes'\r\n                )}\r\n              </Button>\r\n              <Button\r\n                sx={{ ml: 2 }}\r\n                variant=\"outlined\"\r\n                onClick={() => {\r\n                  handleClose();\r\n                }}\r\n              >\r\n                Cancel\r\n              </Button>\r\n            </Box>\r\n          </Box>\r\n        </Box>\r\n      </Modal>\r\n      <OpenNotification isOpen={openNoti} isClosed={isClosed} errorMessage={errorMessage} successMessage={successMessage} closeSuccessNotification={closeSuccessNotification} />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default EditMeeting;\r\n","import React, { forwardRef, useState, useEffect } from 'react';\r\nimport {\r\n  IconButton,\r\n  Box,\r\n  Slide,\r\n  Button,\r\n  Dialog,\r\n  styled,\r\n  Typography,\r\n  useTheme,\r\n  TextField,\r\n  CircularProgress\r\n} from '@mui/material';\r\nimport FormControl from '@mui/material/FormControl';\r\nimport MenuItem from '@mui/material/MenuItem';\r\nimport InputLabel from '@mui/material/InputLabel';\r\nimport Select from '@mui/material/Select';\r\n// import { showNotification } from 'src/utils/commonUtility';\r\n// import { notificationType } from 'src/constants/NotificationType';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport CloseIcon from '@mui/icons-material/Close';\r\nimport { toUpperMutliple } from '../../utils/utilits';\r\nimport { editMeetings } from '../../axiosInstances/Api';\r\nimport { addMeetings, addBrokers, addUsers } from '../../slices/meetings';\r\nimport { getProjectById } from '../../slices/ProjectList';\r\nimport { getTeams } from '../../slices/team';\r\nimport OpenNotification from '../ShowNotification';\r\n\r\nconst DialogWrapper = styled(Dialog)(\r\n  () => `\r\n        .MuiDialog-paper {\r\n          overflow: visible;\r\n        }\r\n  `\r\n);\r\nconst Transition = forwardRef(function Transition(props, ref) {\r\n  return <Slide direction=\"down\" ref={ref} {...props} />;\r\n});\r\n\r\nconst ClientVisitPopup = ({ openConfirm, closeConfirm, data, endTime }) => {\r\n  const theme = useTheme();\r\n  const dispatch = useDispatch();\r\n  const [noteOpen, setNoteOpen] = useState(false);\r\n  const [teamOpen, setTeamOpen] = useState(false);\r\n  const [rmList, setRMList] = useState([]);\r\n  const project = useSelector((state) => state.meeting?.projects);\r\n  const RMs = useSelector((state) => state.team?.teamList);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [state, setState] = useState({\r\n    notes: '',\r\n    broker: [],\r\n    RMMember: ''\r\n  });\r\n\r\n  const [openNoti, setOpenNoti] = useState(false);\r\n  const [errorMessage, setErrorMessage] = useState('');\r\n  const [successMessage, setSuccessMessage] = useState('');\r\n  \r\n  const isClosed = (data) => {\r\n    if (data) {\r\n      setErrorMessage('');\r\n      setOpenNoti(false);\r\n      if (!errorMessage) {\r\n        // navigate(`/team/${selectedTab}`);\r\n        dispatch(addMeetings());\r\n        closeConfirm();\r\n      }\r\n    }\r\n  };\r\n\r\n  const closeSuccessNotification = () => {\r\n    setSuccessMessage('');\r\n  };\r\n\r\n  const isDetailEdit = () => {\r\n    return state?.notes !== '' || state?.broker.length > 0 || state?.RMMember;\r\n  };\r\n  useEffect(() => {\r\n    if (RMs?.length) {\r\n      setRMList(RMs);\r\n    }\r\n  }, [RMs]);\r\n\r\n  useEffect(() => {\r\n    dispatch(addBrokers());\r\n    dispatch(addUsers());\r\n    dispatch(getTeams());\r\n    dispatch(getProjectById(data?.projectId));\r\n  }, []);\r\n  const getProjectName = (id) => {\r\n\r\n    let projectName = project.filter((item) => item._id === id);\r\n    return projectName[0]?.name || '';\r\n  };\r\n  const dateChanger = (dateString, type) => {\r\n    let time = '';\r\n    let date = '';\r\n    if (type === 'time') {\r\n      time = new Date(dateString)\r\n        .toLocaleTimeString([], {\r\n          hour: '2-digit',\r\n          minute: '2-digit',\r\n          hour12: true\r\n        })\r\n        .toLowerCase();\r\n      return time;\r\n    }\r\n    date = new Date(dateString).toDateString();\r\n    return date;\r\n  };\r\n  function handleInputChange(evt) {\r\n    const value = evt.target.value;\r\n    setState({\r\n      ...state,\r\n      [evt.target.name]: value\r\n    });\r\n  }\r\n  const handleSave = async () => {\r\n    console.log(state.RMMember);\r\n\r\n    let payload = {\r\n      meetingDate: data?.meetingDate,\r\n      startTime: data?.startTime,\r\n      endTime,\r\n      dayOfWeek: data?.dayOfWeek,\r\n      notes: state.notes?.length > 0 ? state.notes : undefined\r\n    };\r\n    if (state?.RMMember) {\r\n      payload.assignRm = state?.RMMember?._id\r\n    }\r\n\r\n    if (state.project !== '') {\r\n      payload.projectId = data?.projectId;\r\n    }\r\n    setIsLoading(true);\r\n    const response = await editMeetings(data?._id, payload);\r\n    if (response === 200 || response === 201) {\r\n      let sucessMessage = 'Sucessfully Edited Client Visit';\r\n      if (state?.RMMember) {\r\n        sucessMessage = 'Sucessfully Edited and Ressigned the Client Visit';\r\n      }\r\n\r\n      // showNotification(sucessMessage, notificationType.SUCCESS);\r\n      // setIsLoading(false);\r\n      setOpenNoti(true); \r\n      setSuccessMessage(sucessMessage);\r\n      setIsLoading(false);\r\n    \r\n    } else {\r\n      const errorMessage = 'Something went wrong';\r\n      setErrorMessage(errorMessage);\r\n      setOpenNoti(true);\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n  return (\r\n    <>\r\n      <DialogWrapper\r\n        open={openConfirm}\r\n        maxWidth=\"xs\"\r\n        fullWidth\r\n        TransitionComponent={Transition}\r\n        keepMounted\r\n        onClose={closeConfirm}\r\n      >\r\n        <Box\r\n          sx={{\r\n            display: 'flex',\r\n            justifyContent: 'flex-end',\r\n            alignItems: 'center',\r\n            px: 2,\r\n            pt: 1\r\n          }}\r\n        >\r\n          <IconButton onClick={closeConfirm}>\r\n            <CloseIcon fontSize=\"large\" sx={{ color: 'divider' }} />\r\n          </IconButton>\r\n        </Box>\r\n        <Box sx={{ px: 5 }}>\r\n          <Box>\r\n            <Typography variant=\"h3\" sx={{ mb: 1 }}>\r\n              {/* {`${data?.meetingType || toUpperMutliple(data?.agenda)} `} */}\r\n              {data.agenda ? toUpperMutliple(data.agenda) : data.meetingType === \"CLIENTVISIT\" ? \"CLIENT VISIT\" : \"WALK IN\"}\r\n            </Typography>\r\n            <Typography\r\n              variant=\"h4\"\r\n              sx={{\r\n                fontWeight: 'lighter',\r\n                font: 'Helvetica Neue Medium',\r\n                mb: 0.5\r\n              }}\r\n            >\r\n              {getProjectName(data?.projectId)}\r\n            </Typography>\r\n            <Typography\r\n              variant=\"h4\"\r\n              sx={{\r\n                fontWeight: 'lighter',\r\n                font: 'Helvetica Neue Medium'\r\n              }}\r\n            >\r\n              {dateChanger(data?.meetingDate, 'date')} - at\r\n              {dateChanger(data?.startTime, 'time')}\r\n            </Typography>\r\n          </Box>\r\n          <Box sx={{ pt: 3 }}>\r\n            <Typography\r\n              variant=\"h4\"\r\n              sx={{\r\n                fontWeight: 'normal',\r\n                font: 'Helvetica Neue Medium',\r\n                mb: 0.5\r\n              }}\r\n            >\r\n              Notes\r\n            </Typography>\r\n            {data?.notes?.length > 0 ? (\r\n              <Typography\r\n                variant=\"h4\"\r\n                sx={{\r\n                  font: 'Helvetica Neue Medium'\r\n                }}\r\n              >\r\n                {data?.notes}\r\n              </Typography>\r\n            ) : (\r\n              <>\r\n                {!noteOpen ? (\r\n                  <>\r\n                    <Box\r\n                      sx={{\r\n                        display: 'flex',\r\n                        justifyContent: 'flex-start',\r\n                        alignItems: 'center',\r\n                        columnGap: 1\r\n                      }}\r\n                    >\r\n                      <Typography\r\n                        variant=\"subtitle2\"\r\n                        sx={{\r\n                          fontWeight: 600,\r\n                          font: 'Helvetica Neue Medium',\r\n                          color: '#c0c1c3'\r\n                        }}\r\n                      >\r\n                        No notes added,\r\n                      </Typography>\r\n                      <Typography\r\n                        variant=\"subtitle2\"\r\n                        onClick={() => {\r\n                          setNoteOpen(true);\r\n                        }}\r\n                        sx={{\r\n                          fontWeight: 600,\r\n                          font: 'Helvetica Neue Medium',\r\n                          color: theme.palette.primary.main,\r\n                          cursor: 'pointer'\r\n                        }}\r\n                      >\r\n                        Add now\r\n                      </Typography>\r\n                    </Box>\r\n                  </>\r\n                ) : (\r\n                  <>\r\n                    <Typography\r\n                      variant=\"subtitle2\"\r\n                      onClick={() => {\r\n                        setNoteOpen(false);\r\n                        setState({\r\n                          ...state,\r\n                          notes: ''\r\n                        });\r\n                      }}\r\n                      sx={{\r\n                        fontWeight: 600,\r\n                        font: 'Helvetica Neue Medium',\r\n                        color: theme.palette.error.main,\r\n                        cursor: 'pointer'\r\n                      }}\r\n                    >\r\n                      Click to close\r\n                    </Typography>\r\n                    <Box width=\"100%\" sx={{ mt: -1 }}>\r\n                      <TextField\r\n                        fullWidth\r\n                        multiline\r\n                        margin=\"normal\"\r\n                        label=\"Notes\"\r\n                        name=\"notes\"\r\n                        onChange={(event) => handleInputChange(event)}\r\n                        value={state.notes}\r\n                        variant=\"outlined\"\r\n                      />\r\n                    </Box>\r\n                  </>\r\n                )}\r\n              </>\r\n            )}\r\n          </Box>\r\n\r\n          <Box sx={{ py: 3 }}>\r\n            <Typography\r\n              variant=\"h4\"\r\n              sx={{\r\n                fontWeight: 'normal',\r\n                font: 'Helvetica Neue Medium',\r\n                mb: 0.5\r\n              }}\r\n            >\r\n              Visit requested by\r\n            </Typography>\r\n\r\n            <Typography variant=\"h4\">\r\n              {toUpperMutliple(`${data?.organizer?.first_name} ${data?.organizer?.last_name}`)}\r\n            </Typography>\r\n          </Box>\r\n        </Box>\r\n        {\r\n        new Date() <= new Date(data.meetingDate) && <Box\r\n          sx={{\r\n            display: 'flex',\r\n            justifyContent: 'flex-start',\r\n            alignItems: 'center',\r\n            columnGap: 1,\r\n            background: '#f5f8fd',\r\n            borderTop: 1.5,\r\n            borderBottom: 1.5,\r\n            borderColor: 'divider',\r\n            px: 5,\r\n            py: 2,\r\n            mt: 2\r\n          }}\r\n        >\r\n          {!teamOpen ? (\r\n            <>\r\n              <Typography\r\n                variant=\"h4\"\r\n                sx={{\r\n                  fontWeight: 'normal',\r\n                  font: 'Helvetica Neue Medium'\r\n                }}\r\n              >\r\n                Not available?\r\n              </Typography>\r\n              <Typography\r\n                variant=\"h4\"\r\n                onClick={() => {\r\n                  setTeamOpen(true);\r\n                }}\r\n                sx={{\r\n                  fontWeight: 600,\r\n                  font: 'Helvetica Neue Medium',\r\n                  color: theme.palette.primary.main,\r\n                  cursor: 'pointer'\r\n                }}\r\n              >\r\n                Reassign to a team member\r\n              </Typography>\r\n            </>\r\n          ) : (\r\n            <>\r\n              <Box width=\"100%\">\r\n                <Box\r\n                  sx={{\r\n                    display: 'flex',\r\n                    justifyContent: 'flex-start',\r\n                    alignItems: 'center',\r\n                    columnGap: 1,\r\n                    rowGap: 1,\r\n                    mb: 0.5\r\n                  }}\r\n                >\r\n                  <InputLabel\r\n                    variant=\"subtitle2\"\r\n                    sx={{\r\n                      fontWeight: 600,\r\n                      font: 'Helvetica Neue Medium'\r\n                    }}\r\n                  >\r\n                    Select Relation Manager\r\n                  </InputLabel>\r\n                  <Typography\r\n                    variant=\"subtitle2\"\r\n                    onClick={() => {\r\n                      setTeamOpen(false);\r\n                      setState({\r\n                        ...state,\r\n                        RMMember: ''\r\n                      });\r\n                    }}\r\n                    sx={{\r\n                      fontWeight: 600,\r\n                      font: 'Helvetica Neue Medium',\r\n                      color: theme.palette.error.main,\r\n                      cursor: 'pointer'\r\n                    }}\r\n                  >\r\n                    Click to close\r\n                  </Typography>\r\n                </Box>\r\n                <FormControl fullWidth required>\r\n                  <Select\r\n                    labelId=\"demo-simple-select-label\"\r\n                    name=\"RMMember\"\r\n                    id=\"demo-simple-select\"\r\n                    value={state.RMMember}\r\n                    placeholder=\"RM Member\"\r\n                    onChange={(event) => handleInputChange(event)}\r\n                  >\r\n                    <MenuItem value=\"\">\r\n                      <em>None</em>\r\n                    </MenuItem>\r\n                    {rmList.map((item) => {\r\n                      return <MenuItem value={item}>{`${item?.first_name} ${item?.last_name}`} </MenuItem>;\r\n                    })}\r\n                  </Select>\r\n                </FormControl>\r\n              </Box>\r\n            </>\r\n          )}\r\n        </Box>\r\n        }\r\n        <Box\r\n          sx={{\r\n            display: 'flex',\r\n            justifyContent: 'flex-start',\r\n            alignItems: 'center',\r\n            px: 5,\r\n            py: 3\r\n          }}\r\n        >\r\n          {isDetailEdit() && (\r\n            <>\r\n              <Button\r\n                variant=\"contained\"\r\n                fullWidth\r\n                startIcon={isLoading ? <CircularProgress size=\"1rem\" /> : null}\r\n                disabled={isLoading}\r\n                onClick={() => {\r\n                  handleSave();\r\n                }}\r\n              >\r\n                Save changes\r\n              </Button>\r\n            </>\r\n          )}\r\n        </Box>\r\n      </DialogWrapper>\r\n      <OpenNotification isOpen={openNoti} isClosed={isClosed} errorMessage={errorMessage} successMessage={successMessage} closeSuccessNotification={closeSuccessNotification} />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ClientVisitPopup;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { Card,} from '@mui/material';\r\nimport { Calendar, momentLocalizer } from 'react-big-calendar';\r\nimport moment from 'moment';\r\nimport 'react-big-calendar/lib/css/react-big-calendar.css';\r\nimport { useSelector } from 'react-redux';\r\nimport { toUpper } from '../../utils/utilits';\r\nimport MeetingPopUp from './meetingPopUp';\r\nimport EditMeeting from './EditMeeting';\r\nimport ClientVisitPopup from './ClientVisitPopup';\r\nimport './calender.css';\r\n\r\n\r\nmoment.locale('en-GB');\r\nconst localizer = momentLocalizer(moment);\r\n\r\nconst CalendarView = () => {\r\n  const [openModal, setOpenModal] = useState(false);\r\n  const [time ,setTime] =useState();\r\n  const [openClientModal, setOpenClientModal] = useState(false);\r\n  const [selectedEvent, setSelectedEvent] = useState({});\r\n  const [selectedEventEnd, setSelectedEventEnd] = useState({});\r\n  const [open, setOpen] = useState(false);\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n    setSelectedEvent({});\r\n  };\r\n  const handleEdit = () => {\r\n    closeModal();\r\n    setOpen(true);\r\n  };\r\n  const closeModal = () => {\r\n    setOpenModal(false);\r\n  };\r\n  const closeClientModal = () => {\r\n    setOpenClientModal(false);\r\n  };\r\n  let meetings = [];\r\n  meetings = useSelector((state) => state.meeting?.data);\r\n  const [events, setEvents] = useState([]);\r\n  useEffect(() => {\r\n    extractEvents(meetings);\r\n  }, [meetings]);\r\n\r\n  const getEndTime = (newValue) => {\r\n    const dateStr = new Date(newValue);\r\n    const endDate = new Date(newValue);\r\n    const tempTime = endDate?.setMinutes(dateStr?.getMinutes() + 60);\r\n    return new Date(moment(tempTime));\r\n   };\r\n  const extractEvents = (data) => {\r\n    if (data.length) {\r\n      let tempDate = data?.map((item) => {\r\n        return {\r\n          title: item.agenda ? toUpper(item.agenda) : item.meetingType === \"CLIENTVISIT\" ? \"CLIENT VISIT\" : \"WALK IN\",\r\n          allDay: false,\r\n          start: new Date(item?.startTime),\r\n          end: new Date(item?.endTime).getTime()\r\n            ? new Date(item?.endTime)\r\n            : getEndTime(item.startTime),\r\n          id: item?._id,\r\n          data: item,\r\n          meetingType: item?.meetingType\r\n        };\r\n      });\r\n      setEvents(tempDate);\r\n    }\r\n  };\r\n  const now = new Date();\r\n  now.setDate(now.getDate());\r\n  now.setHours(8);\r\n  now.setMinutes(0);\r\n  now.setMilliseconds(0);\r\n  const handleSelected = (e) => {\r\n    setSelectedEvent(e?.data);\r\n    if (e?.meetingType === 'CLIENTVISIT' || e?.meetingType === 'WALKIN') {\r\n      setOpenClientModal(true);\r\n      setSelectedEventEnd(e?.end);\r\n    } else {\r\n      setOpenModal(true);\r\n    }\r\n  };\r\n  \r\n  \r\n  const eventStyleGetter =(event)=>{\r\n    // const backgroundColor = event?.meetingType === 'CLIENTVISIT' ? '#00a8ff' : 'orange';\r\n    let style = {\r\n      backgroundColor: 'orange',\r\n      color: 'white',\r\n      borderRadius: '0px',\r\n      border: 'none'\r\n    }\r\n  \r\n    if (event.meetingType === 'CLIENTVISIT') {\r\n      style.backgroundColor = '#1985eb'\r\n    } else if (event.meetingType === 'WALKIN') {\r\n      style.backgroundColor = '#19c86c'\r\n    }\r\n    return { style}\r\n  }\r\n  useEffect (()=>{\r\n    setInterval(function() {\r\n      const currentTime = new Date().toLocaleTimeString([], { hour: '2-digit', minute: \"2-digit\",hour12:false});\r\n      setTime(currentTime);\r\n    }, 1000);\r\n    setTimeout(function(){\r\n      let div = document.getElementsByClassName('rbc-current-time-indicator').item(0);\r\n      // console.log(div);\r\n      let z = document.getElementsByClassName('getTimenow').item(0);\r\n      div.appendChild(z);\r\n      z.classList.add('getTimenowCss')\r\n    })\r\n  },[])\r\n  \r\n  return (\r\n    <>\r\n      <Card sx={{ width: { xs: '100%', md: '100%' }, height: '570px', p: 2 }}>\r\n       <div className='getTimenow'>\r\n        {time}\r\n       </div>\r\n\r\n    <Calendar\r\n          events={events}\r\n          step={30}\r\n          view=\"week\"\r\n          views={['week']}\r\n          defaultDate={new Date()}\r\n          localizer={localizer}\r\n          min={localizer.startOf(now)}\r\n          onSelectEvent={handleSelected}\r\n          eventPropGetter={eventStyleGetter}\r\n        />\r\n      </Card>\r\n      {openModal && (\r\n        <MeetingPopUp\r\n          openConfirm={openModal}\r\n          closeConfirm={closeModal}\r\n          data={selectedEvent}\r\n          handleEdit={handleEdit}\r\n        />\r\n      )}\r\n      {open && (\r\n        <EditMeeting\r\n          prevData={selectedEvent}\r\n          open={open}\r\n          handleDetailClose={handleClose}\r\n          editType=\"button\"\r\n        />\r\n      )}\r\n      {openClientModal && (\r\n        <ClientVisitPopup\r\n          openConfirm={openClientModal}\r\n          closeConfirm={closeClientModal}\r\n          data={selectedEvent}\r\n          endTime={selectedEventEnd}\r\n        />\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default CalendarView;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Helmet } from 'react-helmet-async';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport {\r\n  Box,\r\n  Button,\r\n  useTheme,\r\n  Typography,\r\n  Modal,\r\n  TextField,\r\n  Grid,\r\n  styled,\r\n  CircularProgress,\r\n  Divider,\r\n} from '@mui/material';\r\nimport { DatePicker } from '@mui/lab';\r\nimport moment from 'moment';\r\nimport AddCircleIcon from '@mui/icons-material/AddCircle';\r\nimport LocalizationProvider from '@mui/lab/LocalizationProvider';\r\n// import { showNotification } from 'src/utils/commonUtility';\r\n// import { notificationType } from 'src/constants/NotificationType';\r\nimport AdapterDateFns from '@mui/lab/AdapterDateFns';\r\nimport MenuItem from '@mui/material/MenuItem';\r\nimport FormControl from '@mui/material/FormControl';\r\nimport InputLabel from '@mui/material/InputLabel';\r\nimport Select from '@mui/material/Select';\r\nimport SwiperCore, { Navigation, Pagination } from 'swiper/core';\r\nimport { Swiper, SwiperSlide } from 'swiper/react';\r\nimport 'swiper/swiper.min.css';\r\nimport 'swiper/components/navigation/navigation.min.css';\r\nimport 'swiper/components/pagination/pagination.min.css';\r\nimport { canAddMeeting } from 'src/helpers/permissionHelper.js';\r\nimport { getYourNotification } from 'src/slices/dashboard.js';\r\nimport MeetingCard from './meetingCard.js';\r\nimport MultipleSelect from '../../content/blocks/Multiselect/mutliSelect';\r\nimport { createMeeting } from '../../axiosInstances/Api';\r\nimport { renderDate } from './commanFunctions.js';\r\nimport CalendarView from './calendar';\r\nimport TimePicker from '../../components/EventPolls/TimePicker/index';\r\nimport {\r\n  addMeetings,\r\n  addBrokers,\r\n  addUsers,\r\n  // addProjects,\r\n  addMeetingCard,\r\n  getUsersByGroupId,\r\n  addBrokersBygroupId,\r\n  getProjectByBuilderId\r\n} from '../../slices/meetings';\r\nimport OpenNotification from '../ShowNotification/index.js';\r\n\r\nSwiperCore.use([Navigation, Pagination]);\r\n\r\nconst errors = {\r\n  title: false,\r\n  project: false,\r\n  broker: false\r\n};\r\n\r\nconst SwiperWrapper = styled(Box)(\r\n  ({ theme }) => `\r\n        .swiper-pagination {\r\n          .swiper-pagination-bullet {\r\n            background: ${theme.palette.primary.main};\r\n            opacity: 1;\r\n    \r\n            &.swiper-pagination-bullet-active {\r\n              background: lightgray;\r\n              width: 16px;\r\n              border-radius: 6px;\r\n            }\r\n          }\r\n        }\r\n    `\r\n);\r\nfunction MeetingDashboard() {\r\n  const dispatch = useDispatch();\r\n  let broker = useSelector((state) => state.meeting.brokersBygroup);\r\n  useEffect(() => {\r\n    dispatch(addMeetings());\r\n    dispatch(addBrokers());\r\n    dispatch(addUsers());\r\n    dispatch(getProjectByBuilderId(userData.builderCompany[0]));\r\n    dispatch(addMeetingCard());\r\n    dispatch(getUsersByGroupId());\r\n    dispatch(addBrokersBygroupId());\r\n    dispatch(getYourNotification());\r\n  }, []);\r\n\r\n  let meetings = [];\r\n  // let brokersBygroup = useSelector((state) => state.meeting?.brokersBygroup);\r\n\r\n  meetings = useSelector((state) => state.meeting?.meetingCard);\r\n\r\n  // let notification = useSelector((state) => state.dashboard.notification);\r\n\r\n  const project = useSelector((state) => state.meeting?.projectListBuilder);\r\n  const [startDateValue, setStartDateValue] = useState(new Date());\r\n  const [startTimeValue, setStartTimeValue] = useState(moment());\r\n  const [endTimeValue, setEndTimeValue] = useState(moment());\r\n  const [brokerList, setBrokerList] = useState([]);\r\n  const [brokers, setBrokers] = useState([]);\r\n  const userData = JSON.parse(window.localStorage.getItem('user'));\r\n  const weekDay = [\r\n    'sunday',\r\n    'monday',\r\n    'tuesday',\r\n    'wednesday',\r\n    'thursday',\r\n    'friday',\r\n    'saturday'\r\n  ];\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [state, setState] = useState({\r\n\r\n    agenda: '',\r\n    notes: '',\r\n    broker: [],\r\n    user: '',\r\n    project: '',\r\n   \r\n  });\r\n  const [formErrors, setFormErrors] = useState(errors);\r\n\r\n  const [openNoti, setOpenNoti] = useState(false);\r\n  const [errorMessage, setErrorMessage] = useState('');\r\n  const [successMessage, setSuccessMessage] = useState('');\r\n\r\n  const isClosed = (data) => {\r\n    if (data) {\r\n      setErrorMessage('');\r\n      setOpenNoti(false);\r\n      if (!errorMessage) {\r\n        // navigate(`/team/${selectedTab}`);\r\n        dispatch(addMeetings());\r\n      }\r\n    }\r\n  };\r\n\r\n  const closeSuccessNotification = () => {\r\n    setSuccessMessage('');\r\n  };\r\n\r\n\r\n  useEffect(() => {\r\n    if (broker.length) {\r\n      let tempBroker = broker.map((item) => {\r\n        return {\r\n          value: item._id,\r\n          label: `${item?.first_name} ${item?.last_name ? item?.last_name : ''}`\r\n        };\r\n      });\r\n      setBrokerList(tempBroker);\r\n    }\r\n  }, [broker.length]);\r\n\r\n  useEffect(() => {\r\n    handleChangeTime(moment());\r\n  }, []);\r\n  const getjointZValue = (selectedDate, selecteTime) => {\r\n    const date = moment(selectedDate).format('YYYY/MM/DD');\r\n    let time = moment(selecteTime).format('HH:mm');\r\n    let timeAndDate = moment(`${date} ${time}`);\r\n    return new Date(timeAndDate).toISOString();\r\n  };\r\n  const getIsToDay = () => {\r\n    let today = moment(new Date()).format('YYYY/MM/DD');\r\n    let selectedday = moment(startDateValue).format('YYYY/MM/DD');\r\n    return today === selectedday;\r\n  };\r\n  const handleChangeTime = (newValue) => {\r\n    setStartTimeValue(newValue);\r\n    const dateStr = new Date(newValue);\r\n    const endDate = new Date(newValue);\r\n    const tempTime = endDate?.setMinutes(dateStr?.getMinutes() + 30);\r\n    setEndTimeValue(moment(tempTime));\r\n  };\r\n  function handleInputChange(evt) {\r\n    const value = evt.target.value;\r\n    if (evt.target.name === 'agenda' || evt.target.value !== '') {\r\n      setFormErrors((formErrors) => ({ ...formErrors, title: false }));\r\n    }\r\n    if (evt.target.name === 'broker' || evt.target.value !== '') {\r\n      setFormErrors((formErrors) => ({ ...formErrors, broker: false }));\r\n    }\r\n    setState({\r\n      ...state,\r\n      [evt.target.name]: value\r\n    });\r\n  }\r\n  const filterBroker = (brokerParams) => {\r\n    let payload = [];\r\n    if (brokers.length) {\r\n      for (let i = 0; i < brokerParams.length; i++) {\r\n        const tempBroker = broker.filter((item) => item._id === brokerParams[i].value);\r\n        tempBroker.forEach((item) => {\r\n          let tempo = {\r\n            id: item._id,\r\n            name: `${item.first_name} ${item.last_name ? item?.last_name : ''}`,\r\n            phoneNumber: item?.phoneNumber,\r\n            email: item.email,\r\n            status: 'Invited'\r\n          };\r\n          payload.push(tempo);\r\n        });\r\n      }\r\n    }\r\n    return payload;\r\n  };\r\n  const getProjectName = (id) => {\r\n    let projectName = project.filter((item) => item._id === id);\r\n    return projectName[0]?.name || '';\r\n  };\r\n\r\n  const handleAddMeeting = async () => {\r\n    if (!state.agenda) {\r\n      setFormErrors((formErrors) => ({ ...formErrors, title: true }));\r\n    }\r\n\r\n    if (brokers.length === 0) {\r\n      setFormErrors((formErrors) => ({ ...formErrors, broker: true }));\r\n    }\r\n\r\n    if (!state.agenda || !brokers) {\r\n      return;\r\n    }\r\n\r\n    let startTime = getjointZValue(startDateValue, startTimeValue);\r\n    let endTime = getjointZValue(startDateValue, endTimeValue);\r\n    let payload = {\r\n      meetingDate: startTime,\r\n      startTime,\r\n      endTime,\r\n      dayOfWeek: weekDay[startDateValue.getUTCDay()],\r\n      broker: filterBroker(brokers),\r\n      agenda: state.agenda,\r\n      notes: state.notes,\r\n      builderCompany: userData.builderCompany[0]\r\n    };\r\n\r\n    if (state.project !== '') {\r\n      payload.projectId = state.project;\r\n    }\r\n    setIsLoading(true);\r\n    if (payload.broker.length > 0) {\r\n      const response = await createMeeting(payload);\r\n      if (response === 200 || response === 201) {\r\n        // let sucessMessage = 'Successfully Created Meeting';\r\n        // showNotification(sucessMessage, notificationType.SUCCESS);\r\n        setOpenNoti(true); // Open the notification modal\r\n        setSuccessMessage('Successfully Created Meeting');\r\n        setIsLoading(false);\r\n        dispatch(addMeetings());\r\n        handleClose();\r\n      } else if (response === 400) {\r\n       \r\n        const errorMessage = 'Meeting Exists in Database.' || 'Something went wrong';\r\n        setErrorMessage(errorMessage); // Set error message\r\n        setOpenNoti(true); // Open the notification modal\r\n        setIsLoading(false);\r\n      } else {\r\n        const errorMessage = response.data.message || 'Something went wrong';\r\n        setErrorMessage(errorMessage); // Set error message\r\n        setOpenNoti(true); // Open the notification modal\r\n        setIsLoading(false);\r\n      }\r\n    } else {\r\n      setIsLoading(false)\r\n    }\r\n  };\r\n\r\n  const style = {\r\n    position: 'absolute',\r\n    top: '50%',\r\n    left: '50%',\r\n    transform: 'translate(-50%, -50%)',\r\n    width: 600,\r\n    bgcolor: 'background.paper',\r\n    boxShadow: 24,\r\n    borderRadius: 1,\r\n    p: 2\r\n  };\r\n  const theme = useTheme();\r\n  const [open, setOpen] = useState(false);\r\n  // const handleOpen = () => setOpen(true);\r\n  const handleOpen = () => {\r\n    setOpen(true);\r\n    setStartDateValue(new Date());\r\n    setStartTimeValue(moment());\r\n    setEndTimeValue(moment());\r\n    setBrokers([]); \r\n    setState({\r\n      ...state,\r\n      agenda: '',\r\n      notes: '',\r\n      project: ''\r\n    });\r\n  };\r\n  const handleClose = () => {\r\n    setFormErrors(errors);\r\n    setOpen(false);\r\n    setState({\r\n      agenda: '',\r\n      notes: '',\r\n      broker: [],\r\n      user: '',\r\n      project: ''\r\n    });\r\n  };\r\n  const handleMultipleDDChange = (e) => {\r\n    // if (Array.isArray(e) && e.length) {\r\n    //   setFormErrors((formErrors) => ({ ...formErrors, broker: false }));\r\n    // }\r\n    // setState((prevState) => ({\r\n    //   ...prevState,\r\n    //   broker: Array.isArray(e) ? e.map((x) => x.value) : []\r\n    // }));\r\n    setBrokers(e)\r\n  };\r\n  console.log(\"meetingsmeetings\", meetings)\r\n  const isAddMeeting = canAddMeeting()\r\n  return (\r\n    <>\r\n      <Helmet>\r\n        <title>Meetings and Visits</title>\r\n      </Helmet>\r\n      <Box\r\n        sx={{\r\n          ml: 4,\r\n          height: '90%',\r\n          width: '100%',\r\n          pl: { xs: 5, lg: 0 },\r\n          pr: { xs: 5, md: 7 }\r\n        }}\r\n      >\r\n        <Box\r\n          sx={{\r\n            py: 4,\r\n            display: 'flex',\r\n            justifyContent: 'space-between'\r\n          }}\r\n        >\r\n          <Typography\r\n            sx={{\r\n              fontSize: `${theme.typography.pxToRem(15)}`,\r\n              mb: 1,\r\n              mt: 1\r\n            }}\r\n            variant=\"h4\"\r\n          >\r\n            MEETINGS & VISITS\r\n          </Typography>\r\n\r\n          {isAddMeeting && <Button\r\n            variant=\"contained\"\r\n            startIcon={<AddCircleIcon fontSize=\"medium\" />}\r\n            onClick={() => handleOpen()}\r\n          >\r\n            Add New Meeting\r\n          </Button>\r\n          }\r\n          <Modal\r\n            open={open}\r\n            onClose={handleClose}\r\n            aria-labelledby=\"modal-modal-title\"\r\n            aria-describedby=\"modal-modal-description\"\r\n            style={{ zIndex: 7 }}\r\n          >\r\n            <Box sx={style}>\r\n              <Typography\r\n                id=\"modal-modal-title\"\r\n                variant=\"h4\"\r\n                component=\"h1\"\r\n                mt={2}\r\n              >\r\n                Add Meeting\r\n              </Typography>\r\n              <Box>\r\n                <LocalizationProvider dateAdapter={AdapterDateFns}>\r\n                  <Box\r\n                    style={{\r\n                      marginTop: 25\r\n                    }}\r\n                  >\r\n                    <Grid container columnSpacing={2} rowSpacing={2}>\r\n                      <Grid item xs={7}>\r\n                        <Box width=\"100%\">\r\n                          <TextField\r\n                            fullWidth\r\n                            margin=\"normal\"\r\n                            label=\"Meeting Title\"\r\n                            name=\"agenda\"\r\n                            required\r\n                            onChange={(event) => handleInputChange(event)}\r\n                            value={state.agenda}\r\n                            variant=\"outlined\"\r\n                            error={formErrors?.title}\r\n                          />\r\n                          {formErrors?.title && (\r\n                            <span style={{ color: '#d32f2f' }}>\r\n                              This field is required\r\n                            </span>\r\n                          )}\r\n                        </Box>\r\n                      </Grid>\r\n                      <Grid item xs={5}>\r\n                        <Box width=\"100%\" sx={{ mt: '15px' }}>\r\n                          <DatePicker\r\n                            label=\"Date\"\r\n                            value={startDateValue}\r\n                            minDate={new Date()}\r\n                            onChange={(date) => {\r\n                              setStartDateValue(date);\r\n                            }}\r\n                            renderInput={(params) => (\r\n                              <TextField fullWidth {...params} />\r\n                            )}\r\n                          />\r\n                        </Box>\r\n                      </Grid>\r\n                      <Grid item xs={7}>\r\n                        <Box width=\"100%\">\r\n                          <FormControl fullWidth>\r\n                            <InputLabel id=\"demo-simple-select-label\">\r\n                              Link Project\r\n                            </InputLabel>\r\n                            <Select\r\n                              labelId=\"demo-simple-select-label\"\r\n                              id=\"demo-simple-select\"\r\n                              value={state.project}\r\n                              name=\"project\"\r\n                              label=\"Project\"\r\n                              onChange={(event) => handleInputChange(event)}\r\n                            >\r\n                              <MenuItem value=\"\">\r\n                                <em>None</em>\r\n                              </MenuItem>\r\n                              {project?.map((item) => {\r\n                                return (\r\n                                  <MenuItem value={item._id}>\r\n                                    {item.name}\r\n                                  </MenuItem>\r\n                                );\r\n                              })}\r\n                            </Select>\r\n                          </FormControl>\r\n                        </Box>\r\n                      </Grid>\r\n                      <Grid item xs={5}>\r\n                        <Box width=\"100%\">\r\n                          <TimePicker\r\n                            value={startTimeValue}\r\n                            style={{ width: '-webkit-fill-available' }}\r\n                            startTime={moment()}\r\n                            isToday={getIsToDay()}\r\n                            onChange={(newValue) => {\r\n                              handleChangeTime(newValue);\r\n                            }}\r\n                          />\r\n                        </Box>\r\n                      </Grid>\r\n\r\n                      <Grid item xs={12}>\r\n                        <Box width=\"100%\">\r\n                          <TextField\r\n                            fullWidth\r\n                            multiline\r\n                            rows={3}\r\n                            margin=\"normal\"\r\n                            label=\"Notes\"\r\n                            name=\"notes\"\r\n                            onChange={(event) => handleInputChange(event)}\r\n                            value={state.notes}\r\n                            variant=\"outlined\"\r\n                          />\r\n                        </Box>\r\n                      </Grid>\r\n\r\n                      <Grid item xs={12}>\r\n                        <Box width=\"100%\">\r\n                          <FormControl fullWidth variant=\"outlined\">\r\n                            <MultipleSelect\r\n                              data={brokerList}\r\n                              value={brokers}\r\n                              handleChange={handleMultipleDDChange}\r\n                              placeholder='Channel Partner *'\r\n                            />\r\n                            {formErrors?.broker && (\r\n                              <span style={{ color: '#d32f2f' }}>\r\n                                This field is required\r\n                              </span>\r\n                            )}\r\n                          </FormControl>\r\n                        </Box>\r\n                      </Grid>\r\n                    </Grid>\r\n                  </Box>\r\n                </LocalizationProvider>\r\n                <Box mb={5} position=\"relative\" top=\"25px\">\r\n                  <Divider sx={{ borderBottomWidth: 5 }} />\r\n                </Box>\r\n                <Box\r\n                  position=\"relative\"\r\n                  xs={{ bottom: '6px' }}\r\n                  md={{ bottom: '0px' }}\r\n                  xl={{ bottom: '0px' }}\r\n                >\r\n                  <Button\r\n                    variant=\"contained\"\r\n                    onClick={() => handleAddMeeting()}\r\n                  >\r\n                    {isLoading ? (\r\n                      <CircularProgress\r\n                        size={22}\r\n                        style={{\r\n                          color: 'white'\r\n                        }}\r\n                      />\r\n                    ) : (\r\n                      'Create Meeting'\r\n                    )}\r\n                  </Button>\r\n                  <Button\r\n                    sx={{ ml: 2 }}\r\n                    variant=\"outlined\"\r\n                    onClick={() => {\r\n                      handleClose();\r\n                    }}\r\n                  >\r\n                    Cancel\r\n                  </Button>\r\n                </Box>\r\n              </Box>\r\n            </Box>\r\n          </Modal>\r\n        </Box>\r\n        <>\r\n          <Box my={2} sx={{ ml: { xs: -1, md: 2 }, mr: { xs: -1, md: 0 } }}>\r\n            <SwiperWrapper\r\n              sx={{\r\n                position: 'relative',\r\n                py: 0,\r\n                ml: { xs: -3.5, sm: 0, md: -3.5 }\r\n              }}\r\n            >\r\n              <Swiper\r\n                spaceBetween={1}\r\n                slidesPerView={1}\r\n                // loop\r\n                navigation={{\r\n                  nextEl: '.MuiSwipe-right',\r\n                  prevEl: '.MuiSwipe-left'\r\n                }}\r\n                breakpoints={{\r\n                  500: {\r\n                    slidesPerView: 1,\r\n                    spaceBetween: 0\r\n                  },\r\n                  768: {\r\n                    slidesPerView: 3,\r\n                    spaceBetween: 0\r\n                  },\r\n                  1200: {\r\n                    slidesPerView: 3,\r\n                    spaceBetween: 0\r\n                  },\r\n                  1920: {\r\n                    slidesPerView: 4,\r\n                    spaceBetween: 0\r\n                  }\r\n                }}\r\n                pagination={{ dynamicBullets: true, clickable: true }}\r\n              >\r\n                {meetings.length > 0 && meetings?.map((item, index) => {\r\n                  let { organizer, meetingDate, projectId } = item;\r\n                  return (\r\n                    <SwiperSlide>\r\n                      <Box sx={{ mx: { xs: 1.5 } }} key={index}>\r\n                        <MeetingCard\r\n                          mainText={`${organizer.first_name} ${organizer.last_name}`}\r\n                          description={getProjectName(projectId)}\r\n                          dateTime={renderDate(meetingDate)}\r\n                          data={item}\r\n                        />\r\n                      </Box>\r\n                    </SwiperSlide>\r\n                  );\r\n                })}\r\n\r\n                {/* {notification?.totalregistartion?.length > 0 && notification?.totalregistartion?.map((data, index) => {\r\n                  // let { organizer, meetingDate, projectId } = item;\r\n                  // console.log(\"datadatadatadatadatadatadatadatadatadatadata\",data);\r\n                  return (\r\n                    <SwiperSlide>\r\n                      <Box sx={{ mx: { xs: 1.5 } }} key={index}>\r\n                        <MeetingCard\r\n                          mainText={`${data?.clientId?.broker?.first_name} ${data?.clientId?.broker?.last_name}`}\r\n                          description={data?.clientId?.project?.name}\r\n                          dateTime={renderDate(data?.createdAt)}\r\n                          data={data}\r\n                          type='registration'\r\n                        />\r\n                      </Box>\r\n                    </SwiperSlide>\r\n                  );\r\n                })}\r\n\r\n                {notification?.totalbooking?.length > 0 && notification?.totalbooking?.map((data, index) => {\r\n                  // let { organizer, meetingDate, projectId } = item;\r\n                  // console.log(\"datadatadatadatadatadatadatadatadatadatadata\",data);\r\n                  return (\r\n                    <SwiperSlide>\r\n                      <Box sx={{ mx: { xs: 1.5 } }} key={index}>\r\n                        <MeetingCard\r\n                          mainText={`${data?.clientId?.broker?.first_name} ${data?.clientId?.broker?.last_name}`}\r\n                          description={data?.clientId?.project?.name}\r\n                          dateTime={renderDate(data?.createdAt)}\r\n                          data={data}\r\n                          type='booking'\r\n                        />\r\n                      </Box>\r\n                    </SwiperSlide>\r\n                  );\r\n                })} */}\r\n              </Swiper>\r\n            </SwiperWrapper>\r\n          </Box>\r\n        </>\r\n\r\n        <Box\r\n          sx={{\r\n            width: '100%',\r\n            typography: 'body1',\r\n            mt: meetings.length > 0 ? 4 : 2\r\n          }}\r\n        >\r\n          <Box\r\n            sx={{\r\n              display: 'flex',\r\n              flexDirection: 'row',\r\n              justifyContent: 'flex-start'\r\n            }}\r\n          >\r\n            <CalendarView />\r\n          </Box>\r\n        </Box>\r\n      </Box>\r\n      <OpenNotification isOpen={openNoti} isClosed={isClosed} errorMessage={errorMessage} successMessage={successMessage} closeSuccessNotification={closeSuccessNotification} />\r\n\r\n    </>\r\n  );\r\n}\r\n\r\nexport default MeetingDashboard;\r\n","import { useSelector } from 'react-redux';\r\n\r\nconst canCreateBroadcast = () => {\r\n  let userData = useSelector((state) => state?.auth?.data);\r\n  let output = false;\r\n  if (userData?.roleName === 'ADMIN') {\r\n    output = true;\r\n  } else if (userData?.permissions.some(permission => permission.name === 'addBroadcast')) {\r\n    output = true;\r\n  }\r\n  return output;\r\n};\r\n// TODO(Biswa): edit project will get added after the screens are done\r\nconst canEditProject = () => {\r\n  let userData = useSelector((state) => state?.auth?.data);\r\n  let output = false;\r\n  if (userData?.roleName === 'ADMIN') {\r\n    output = true;\r\n  } else if (userData?.permissions.some(permission => permission.name === 'addProject')) {\r\n    output = true;\r\n  }\r\n  return output;\r\n};\r\n\r\nconst canReassignBroker = () => {\r\n  let userData = useSelector((state) => state?.auth?.data);\r\n  let output = false;\r\n  if (userData?.roleName === 'ADMIN') {\r\n    output = true;\r\n  } else if (userData?.permissions.includes('reassignRM')) {\r\n    output = true;\r\n  }\r\n  return output;\r\n};\r\n\r\nconst canCreateEvent = () => {\r\n  let userData = useSelector((state) => state?.auth?.data);\r\n  let output = false;\r\n  if (userData?.roleName === 'ADMIN') {\r\n    output = true;\r\n  } else if (userData?.permissions.some(permission => permission.name === 'addEvent')) {\r\n    output = true;\r\n  }\r\n  return output;\r\n};\r\n// TODO(Biswa)\r\nconst canDownloadReports = () => {\r\n  let userData = useSelector((state) => state?.auth?.data);\r\n  let output = false;\r\n  if (userData?.roleName === 'ADMIN') {\r\n    output = true;\r\n  } else if (userData?.permissions.some(permission => permission.name === 'downloadReports')) {\r\n    output = true;\r\n  }\r\n  return output;\r\n};\r\nconst canAddCRMMembers = () => {\r\n  let userData = useSelector((state) => state?.auth?.data);\r\n  let output = false;\r\n  if (userData?.roleName === 'ADMIN') {\r\n    output = true;\r\n  } else if (userData?.permissions.some(permission => permission.name === 'addCRMMember')) {\r\n    output = true;\r\n  }\r\n  return output;\r\n};\r\n\r\nconst canAddMeeting = () => {\r\n  let userData = useSelector((state) => state?.auth?.data);\r\n  let output = false;\r\n  if (userData?.roleName === 'ADMIN') {\r\n    output = true;\r\n  } else if (userData?.permissions.some(permission => permission.name === 'addMeetings')) {\r\n    output = true;\r\n  }\r\n  return output;\r\n};\r\n\r\nconst canDeleteMeeting = () => {\r\n  let userData = useSelector((state) => state?.auth?.data);\r\n  let output = false;\r\n  if (userData?.roleName === 'ADMIN') {\r\n    output = true;\r\n  } else if (userData?.permissions.some(permission => permission.name === 'deleteMeetings')) {\r\n    output = true;\r\n  }\r\n  return output;\r\n};\r\n\r\nconst canAddMembers = () => {\r\n  let userData = useSelector((state) => state?.auth?.data);\r\n  let output = false;\r\n  if (userData?.roleName === 'ADMIN') {\r\n    output = true;\r\n  } else if (userData?.permissions.some(permission => permission.name === 'addMember')) {\r\n    output = true;\r\n  }\r\n  return output;\r\n};\r\n\r\nconst canCreateProject = () => {\r\n  let userData = useSelector((state) => state?.auth?.data);\r\n  let output = false;\r\n  if (userData?.roleName === 'ADMIN') {\r\n    output = true;\r\n  } else if (userData?.permissions.some(permission => permission.name === 'addProject')) {\r\n    output = true;\r\n  }\r\n  return output;\r\n};\r\n// TODO(Biswa)\r\nconst canCreatePolls = () => {\r\n  let userData = useSelector((state) => state?.auth?.data);\r\n  let output = false;\r\n  if (userData?.roleName === 'ADMIN') {\r\n    output = true;\r\n  } else if (userData?.permissions.includes('createPolls')) {\r\n    output = true;\r\n  }\r\n  return output;\r\n};\r\n\r\nexport {\r\n  canCreateBroadcast,\r\n  canEditProject,\r\n  canReassignBroker,\r\n  canCreateEvent,\r\n  canDownloadReports,\r\n  canAddMembers,\r\n  canCreateProject,\r\n  canCreatePolls,\r\n  canAddCRMMembers,\r\n  canAddMeeting,\r\n  canDeleteMeeting\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport moment from 'moment';\r\nimport TimePicker from 'rc-time-picker';\r\nimport 'rc-time-picker/assets/index.css';\r\n\r\nconst getDisabledHours = (startTime) => {\r\n  let hours = [];\r\n  for (let i = 0; i < moment(startTime).hour(); i++) {\r\n    hours.push(i);\r\n  }\r\n  return hours;\r\n};\r\n\r\nconst getDisabledMinutes = (selectedHour, startTime) => {\r\n  let minutes = [];\r\n  if (selectedHour === moment(startTime).hour()) {\r\n    for (let i = 0; i < moment(startTime).minute(); i++) {\r\n      minutes.push(i);\r\n    }\r\n  }\r\n  return minutes;\r\n};\r\n\r\nconst DeliTimePicker = ({ className, onChange, value, startTime,isToday =false, endTime=false,minuteStep=1, ...rest }) => {\r\n  return (\r\n    <TimePicker\r\n      {...rest}\r\n      className={className}\r\n      popupClassName={className}\r\n      showSecond={false}\r\n      onChange={onChange}\r\n      hideDisabledOptions\r\n      minuteStep={minuteStep}\r\n      value={value}\r\n      use12Hours\r\n      disabledHours={() => {\r\n        return !isToday && !endTime ? [] : getDisabledHours(startTime) ;\r\n      }}\r\n      disabledMinutes={(e) => {\r\n        return !isToday && !endTime ? [] : getDisabledMinutes(e, startTime);\r\n      }}\r\n    />\r\n  );\r\n};\r\n\r\nDeliTimePicker.propTypes = {\r\n  className: PropTypes.string.isRequired,\r\n  onChange: PropTypes.func.isRequired,\r\n  value: PropTypes.instanceOf(moment)\r\n};\r\n\r\nexport default DeliTimePicker;\r\n","import styled from \"styled-components\";\r\nimport TimePicker from \"./TimePicker\";\r\n\r\nconst StyledTimePicker = styled(TimePicker)`\r\n  & .rc-time-picker-panel-select-option-selected {\r\n    background-color: #edeffe;\r\n    font-weight: normal;\r\n  \r\n  }\r\n\r\n  & .rc-time-picker-clear,\r\n  & .rc-time-picker-clear-icon:after {\r\n    font-size: 17px;\r\n    margin:5px;\r\n  }\r\n  & .rc-time-picker-input{\r\n    height:50px;\r\n    border-radius:10px\r\n  \r\n  }\r\n  & .rc-time-picker-panel-select{\r\n    width:'-webkit-fill-available';\r\n  }\r\n  & .rc-time-picker-panel-select,\r\n  & .rc-time-picker-input,\r\n  & .rc-time-picker-panel-input {\r\n    font-family: \"Consolas\", sans-serif;\r\n    font-size: 17px;\r\n    cursor: pointer;\r\n\r\n\r\n    \r\n\r\n    ::-webkit-scrollbar {\r\n      width: 0;\r\n      height: 0;\r\n    }\r\n  }\r\n`;\r\n\r\nexport default StyledTimePicker;\r\n","import {React} from 'react';\r\nimport Select from \"react-select\";\r\nimport makeAnimated from 'react-select/animated';\r\n\r\nconst animatedComponents =makeAnimated();\r\nconst customStyles = {\r\n    control: base => ({\r\n      ...base,\r\n      minHeight: 50,\r\n      borderRadius:'10px'\r\n    })\r\n  };\r\n  \r\nconst MultipleSelect=({data,handleChange,placeholder,value})=>{\r\n    return(\r\n        <Select options={data} minMenuHeight='200px'  value={value} styles={customStyles} components={animatedComponents} isMulti onChange={handleChange} placeholder={placeholder}/>\r\n    )\r\n}\r\n\r\nexport default MultipleSelect;"],"sourceRoot":""}