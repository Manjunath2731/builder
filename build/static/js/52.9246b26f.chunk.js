(this["webpackJsonptokyo-white-react-admin-dashboard-js"]=this["webpackJsonptokyo-white-react-admin-dashboard-js"]||[]).push([[52],{1164:function(e,t,n){},1347:function(e,t,n){"use strict";n.r(t);var i=n(3),a=n.n(i),r=n(6),c=n(5),o=n(10),l=n(4),s=n(1),d=n(62),u=n(21),j=n(8),b=n(27),v=n(43),m=n(29),f=n(89),O=n(507),h=n(171),x=n(94),p=n(170),g=n(230),w=n(797),y=n(307),C=n.n(y),S=n(830),k=n.n(S),M=n(791),D=n(798),T=n(356),N=n(806),I=n(807),W=n(801),_=n(1325),E=n(1295),R=n(891),H=n(1341),A=n(1296),z=(n(862),n(863),n(864),n(845)),L=n(358),Y=n(729),B=n(172),F=n(1152),V=n.n(F),P=n(468),q=n.n(P),G=n(911),J=n.n(G),K=n(52),U=n(112),Q=n(361),X=n(31),Z=n(0),$=Object(j.a)(Y.a)((function(e){var t=e.theme;return"\n    width: ".concat(t.spacing(5),";\n    height: ").concat(t.spacing(5),";\n  ")})),ee=function(e){var t=e.mainText,n=e.description,i=e.dateTime,c=e.data,o=e.ShowShareIcons,d=void 0!==o&&o,j=e.type,f=void 0===j?"clientVisit":j,O=JSON.parse(window.localStorage.getItem("user")),h=Object(v.a)(),x=Object(u.b)(),g=Object(s.useState)(!1),w=Object(l.a)(g,2),y=w[0],C=w[1],S=Object(s.useState)(!1),k=Object(l.a)(S,2),M=k[0],D=k[1],T=Object(s.useState)(""),N=Object(l.a)(T,2),I=N[0],W=N[1],_=Object(s.useState)(""),E=Object(l.a)(_,2),R=E[0],H=E[1],A=function(){var e=Object(r.a)(a.a.mark((function e(t){var n,i,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(C(!0),n={status:t},i={id:null===O||void 0===O?void 0:O.userId,name:null===O||void 0===O?void 0:O.userName,phoneNumber:null===O||void 0===O?void 0:O.phone,email:null===O||void 0===O?void 0:O.email,status:t},"clientVisit"!==f){e.next=8;break}return e.next=6,Object(K.L)(null===c||void 0===c?void 0:c._id,n).then((function(e){if(200===(null===e||void 0===e?void 0:e.status)||201===(null===e||void 0===e?void 0:e.status))Object(K.D)(null===c||void 0===c?void 0:c._id,i).then((function(e){if(200===e||201===e){var n="Sucessfully ".concat(Object(U.l)(t)," ");D(!0),H(n),C(!1)}}));else{W("Something went wrong"),D(!0),C(!1)}}));case 6:e.next=10;break;case 8:return e.next=10,Object(K.O)(null===c||void 0===c||null===(r=c.clientId)||void 0===r?void 0:r._id,f,t.toUpperCase()).then((function(e){if(200===(null===e||void 0===e?void 0:e.status)||201===(null===e||void 0===e?void 0:e.status)){var n="Sucessfully ".concat(Object(U.l)(t)," ");D(!0),H(n),C(!1)}else{W("Something went wrong"),D(!0),C(!1)}}));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(Z.jsx)(Z.Fragment,{children:Object(Z.jsxs)(B.a,{variant:"outlined",sx:{height:"100%"},children:[Object(Z.jsxs)(b.a,{sx:{display:"flex",flexDirection:"row",alignItems:"center",py:2,pr:4,pl:2,background:"#fff1c9",flexWrap:"wrap"},children:[Object(Z.jsx)(m.a,{sx:{fontSize:"".concat(h.typography.pxToRem(14))},variant:"h4",children:"clientVisit"===f?"WALKIN"===c.meetingType?"Walk In Requested by  ":"Client Visit Requested by  ":"registration"===f?"Registration Requested by  ":"Booking Requested by  "}),Object(Z.jsx)(m.a,{sx:{fontSize:"".concat(h.typography.pxToRem(14)),ml:.5,color:"#499ae0"},variant:"h4",children:t})]}),Object(Z.jsx)(p.a,{}),Object(Z.jsxs)(b.a,{mt:1,p:2,sx:{display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[Object(Z.jsxs)(b.a,{mr:2,children:[Object(Z.jsx)(m.a,{sx:{fontSize:"".concat(h.typography.pxToRem(14))},variant:"subtitle1",children:n}),Object(Z.jsx)(m.a,{sx:{fontSize:"".concat(h.typography.pxToRem(14)),mb:1},variant:"subtitle1",children:i})]}),Object(Z.jsxs)(b.a,{sx:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-start"},children:[Object(Z.jsx)($,{sx:{background:h.colors.success.lighter,color:h.palette.success.main,mr:1,cursor:"pointer",disabled:y},onClick:function(){A("ACCEPTED")},children:d?Object(Z.jsx)(J.a,{fontSize:"large"}):Object(Z.jsx)(V.a,{fontSize:"medium"})}),Object(Z.jsx)($,{sx:{background:h.colors.error.lighter,color:h.palette.error.main,cursor:"pointer",disabled:y},onClick:function(){A("REJECTED")},children:Object(Z.jsx)(q.a,{fontSize:"medium"})})]})]}),Object(Z.jsx)(X.a,{isOpen:M,isClosed:function(e){e&&(W(""),D(!1),I||(x(Object(Q.c)()),x(Object(Q.d)()),x(Object(Q.i)()),x(Object(L.h)())))},errorMessage:I,successMessage:R,closeSuccessNotification:function(){H("")}})]})})},te=n(914),ne=n(313),ie=n(1269),ae=(n(1163),n(352)),re=n(349),ce=n(510),oe=n(71),le=n.n(oe),se=n(158),de=Object(j.a)(ae.a)((function(){return"\n        .MuiDialog-paper {\n          overflow: visible;\n        }\n  "})),ue=Object(s.forwardRef)((function(e,t){return Object(Z.jsx)(re.a,Object(o.a)({direction:"down",ref:t},e))})),je=function(e){var t=e.openConfirm,n=e.closeConfirm,i=e.data,d=e.handleEdit,j=Object(v.a)(),O=Object(u.b)(),h=Object(s.useState)(!1),p=Object(l.a)(h,2),w=p[0],y=p[1],C=Object(s.useState)(!1),S=Object(l.a)(C,2),k=S[0],M=S[1],D=Object(s.useState)(!1),_=Object(l.a)(D,2),E=_[0],R=_[1],H=Object(s.useState)([]),A=Object(l.a)(H,2),L=A[0],Y=A[1],B=Object(s.useState)([]),F=Object(l.a)(B,2),V=F[0],P=F[1],q=Object(u.c)((function(e){var t;return null===(t=e.meeting)||void 0===t?void 0:t.brokersBygroup})),G=Object(u.c)((function(e){var t;return null===(t=e.team)||void 0===t?void 0:t.teamList})),J=Object(s.useState)(!1),$=Object(l.a)(J,2),ee=$[0],ne=$[1],ie=JSON.parse(window.localStorage.getItem("user")),ae=Object(s.useState)({notes:"",broker:[],teamMember:"",project:""}),re=Object(l.a)(ae,2),oe=re[0],je=re[1],be=Object(s.useState)(!1),ve=Object(l.a)(be,2),me=ve[0],fe=ve[1],Oe=Object(s.useState)(""),he=Object(l.a)(Oe,2),xe=he[0],pe=he[1],ge=Object(s.useState)(""),we=Object(l.a)(ge,2),ye=we[0],Ce=we[1],Se=function(){var e=Object(r.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(K.d)(t);case 2:202===e.sent?(fe(!0),Ce("Meeting Cancelled"),ne(!1)):("Something went wrong",pe("Something went wrong"),fe(!0),ne(!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(s.useEffect)((function(){if(q.length){var e=function(e,t){var n;return n=t.filter((function(t){var n=function(e,t){return 0===t.filter((function(t){return t.id===e})).length}(t._id,e);return!!n})),n}(null===i||void 0===i?void 0:i.broker,q),t=e.map((function(e){return{value:e._id,label:"".concat(null===e||void 0===e?void 0:e.first_name," ").concat((null===e||void 0===e?void 0:e.last_name)?null===e||void 0===e?void 0:e.last_name:"")}}));Y(t)}if(i.projectId&&je(Object(o.a)(Object(o.a)({},oe),{},{project:i.projectId})),G.length&&i.projectId){var n=G.filter((function(e){return i.projectId.relationManager.includes(e._id)}));P(n)}else P(G)}),[q.length,G]),Object(s.useEffect)((function(){O(Object(Q.b)(ie.builderCompany[0])),O(Object(Q.f)()),O(Object(se.f)())}),[]);var ke=function(e){var t=[];if(q.length)for(var n=function(n){q.filter((function(t){var i;return t._id===(null===(i=e[n])||void 0===i?void 0:i.value)})).forEach((function(e){var n={id:e._id,name:"".concat(e.first_name," ").concat(e.last_name),phoneNumber:e.phoneNumber,email:e.email,status:"Invited"};t.push(n)}))},i=0;i<e.length;i++)n(i);return t},Me=function(e,t){return"time"===t?new Date(e).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!0}).toLowerCase():new Date(e).toDateString()};function De(e){var t=e.target.value;je(Object(o.a)(Object(o.a)({},oe),{},Object(c.a)({},e.target.name,t)))}var Te=function(){var e=Object(r.a)(a.a.mark((function e(){var t,n,r,c,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=ke(oe.broker),n=null===i||void 0===i?void 0:i.broker,r={meetingDate:null===i||void 0===i?void 0:i.meetingDate,startTime:null===i||void 0===i?void 0:i.startTime,endTime:null===i||void 0===i?void 0:i.endTime,dayOfWeek:null===i||void 0===i?void 0:i.dayOfWeek,broker:n.concat(t),agenda:null===i||void 0===i?void 0:i.agenda,notes:(null===i||void 0===i?void 0:i.notes.length)>0?null===i||void 0===i?void 0:i.notes:oe.notes,builderCompany:ie.builderCompany[0]},(null===oe||void 0===oe?void 0:oe.teamMember)&&(r.organizer=null===oe||void 0===oe?void 0:oe.teamMember),""!==oe.project&&(r.projectId=null===i||void 0===i?void 0:i.projectId),ne(!0),e.next=8,Object(K.D)(null===i||void 0===i?void 0:i._id,r);case 8:200===(c=e.sent)||201===c?(o="Sucessfully Edited Meeting",console.log("stateteam",null===oe||void 0===oe?void 0:oe.teamMember),(null===oe||void 0===oe?void 0:oe.teamMember)&&(o="Sucessfully Edited and Ressigned the meeting"),fe(!0),Ce(o),ne(!1)):("Something went wrong",pe("Something went wrong"),fe(!0),ne(!1));case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ne=Object(z.b)(),Ie=Object(z.g)();return Object(Z.jsxs)(Z.Fragment,{children:[Object(Z.jsxs)(de,{open:t,maxWidth:"xs",fullWidth:!0,TransitionComponent:ue,keepMounted:!0,onClose:n,children:[Object(Z.jsx)(b.a,{sx:{display:"flex",justifyContent:"flex-end",alignItems:"center",px:2,pt:1},children:Object(Z.jsx)(ce.a,{onClick:n,children:Object(Z.jsx)(le.a,{fontSize:"large",sx:{color:"divider"}})})}),Object(Z.jsxs)(b.a,{sx:{px:5},children:[Object(Z.jsxs)(b.a,{children:[Object(Z.jsx)(m.a,{variant:"h3",sx:{mb:.5},children:Object(U.l)(i.agenda)}),Object(Z.jsxs)(m.a,{variant:"h4",sx:{fontWeight:"lighter",font:"Helvetica Neue Medium"},children:[Me(null===i||void 0===i?void 0:i.meetingDate,"date")," - at"," ",Me(null===i||void 0===i?void 0:i.startTime,"time")]})]}),Object(Z.jsxs)(b.a,{sx:{pt:3},children:[Object(Z.jsx)(m.a,{variant:"h4",sx:{fontWeight:"normal",font:"Helvetica Neue Medium",mb:.5},children:"Notes"}),(null===i||void 0===i?void 0:i.notes.length)>0?Object(Z.jsx)(m.a,{variant:"h4",sx:{font:"Helvetica Neue Medium"},children:null===i||void 0===i?void 0:i.notes}):Object(Z.jsx)(Z.Fragment,{children:w?Object(Z.jsxs)(Z.Fragment,{children:[Object(Z.jsx)(m.a,{variant:"subtitle2",onClick:function(){y(!1),je(Object(o.a)(Object(o.a)({},oe),{},{notes:""}))},sx:{fontWeight:600,font:"Helvetica Neue Medium",color:j.palette.error.main,cursor:"pointer"},children:"Click to close"}),Object(Z.jsx)(b.a,{width:"100%",sx:{mt:-1},children:Object(Z.jsx)(x.a,{fullWidth:!0,multiline:!0,margin:"normal",label:"Notes",name:"notes",onChange:function(e){return De(e)},value:oe.notes,variant:"outlined"})})]}):Object(Z.jsx)(Z.Fragment,{children:Object(Z.jsxs)(b.a,{sx:{display:"flex",justifyContent:"flex-start",alignItems:"center",columnGap:1},children:[Object(Z.jsx)(m.a,{variant:"subtitle2",sx:{fontWeight:600,font:"Helvetica Neue Medium",color:"#c0c1c3"},children:"No notes added,"}),Object(Z.jsx)(m.a,{variant:"subtitle2",onClick:function(){y(!0)},sx:{fontWeight:600,font:"Helvetica Neue Medium",color:j.palette.primary.main,cursor:"pointer"},children:"Add now"})]})})})]}),Object(Z.jsxs)(b.a,{sx:{py:3},children:[Object(Z.jsx)(m.a,{variant:"h4",sx:{fontWeight:"normal",font:"Helvetica Neue Medium",mb:.5},children:"Channel Partner Invited"}),Object(Z.jsx)(m.a,{variant:"h4",children:function(e){var t,n;return(null===e||void 0===e?void 0:e.length)>0&&(n=null===e||void 0===e?void 0:e.map((function(e){var t=null===e||void 0===e?void 0:e.name.split(" ");return"".concat(t[0]," ").concat(Object(U.h)(t[1])?t[1]:"")}))),(null===(t=n)||void 0===t?void 0:t.length)>0?n.join(" , "):"No brokers invited yet"}(i.broker)}),k?Object(Z.jsxs)(Z.Fragment,{children:[Object(Z.jsx)(m.a,{variant:"subtitle2",onClick:function(){M(!1),je(Object(o.a)(Object(o.a)({},oe),{},{broker:[]}))},sx:{fontWeight:600,font:"Helvetica Neue Medium",color:j.palette.error.main,cursor:"pointer",mb:.5},children:"Click to close"}),Object(Z.jsx)(N.a,{fullWidth:!0,required:!0,children:Object(Z.jsx)(te.a,{data:L,value:null===oe||void 0===oe?void 0:oe.broker,handleChange:function(e){je((function(t){return Object(o.a)(Object(o.a)({},t),{},{broker:Array.isArray(e)?e:[]})}))},placeholder:Object(Z.jsx)("div",{children:"Broker"})})})]}):new Date<=new Date(i.meetingDate)&&Object(Z.jsx)(m.a,{variant:"subtitle2",onClick:function(){M(!0)},sx:{fontWeight:600,font:"Helvetica Neue Medium",color:j.palette.primary.main,cursor:"pointer"},children:"Invite more Channel Partner"})]})]}),new Date<=new Date(i.meetingDate)&&Object(Z.jsx)(b.a,{sx:{display:"flex",justifyContent:"flex-start",alignItems:"center",columnGap:1,background:"#f5f8fd",borderTop:1.5,borderBottom:1.5,borderColor:"divider",px:5,py:2,mt:2},children:E?Object(Z.jsx)(Z.Fragment,{children:Object(Z.jsxs)(b.a,{width:"100%",children:[Object(Z.jsxs)(b.a,{sx:{display:"flex",justifyContent:"flex-start",alignItems:"center",columnGap:1,rowGap:1,mb:.5},children:[Object(Z.jsx)(I.a,{variant:"subtitle2",sx:{fontWeight:600,font:"Helvetica Neue Medium"},children:"Select Team Member"}),Object(Z.jsx)(m.a,{variant:"subtitle2",onClick:function(){R(!1),je(Object(o.a)(Object(o.a)({},oe),{},{teamMember:""}))},sx:{fontWeight:600,font:"Helvetica Neue Medium",color:j.palette.error.main,cursor:"pointer"},children:"Click to close"})]}),Object(Z.jsx)(N.a,{fullWidth:!0,required:!0,children:Object(Z.jsxs)(W.a,{labelId:"demo-simple-select-label",name:"teamMember",id:"demo-simple-select",value:oe.teamMember,placeholder:"Team Member",onChange:function(e){return De(e)},children:[Object(Z.jsx)(T.a,{value:"",children:Object(Z.jsx)("em",{children:"None"})}),V.map((function(e){return Object(Z.jsx)(T.a,{value:e._id,children:"".concat(e.first_name," ").concat(e.last_name)})}))]})})]})}):Object(Z.jsxs)(Z.Fragment,{children:[Object(Z.jsx)(m.a,{variant:"h4",sx:{fontWeight:"normal",font:"Helvetica Neue Medium"},children:"Not available?"}),Object(Z.jsx)(m.a,{variant:"h4",onClick:function(){R(!0)},sx:{fontWeight:600,font:"Helvetica Neue Medium",color:j.palette.primary.main,cursor:"pointer"},children:"Reassign to a team member"})]})}),Object(Z.jsx)(b.a,{sx:{display:"flex",justifyContent:"flex-start",alignItems:"center",px:5,py:3},children:""!==(null===oe||void 0===oe?void 0:oe.notes)||(null===oe||void 0===oe?void 0:oe.broker.length)>0||(null===oe||void 0===oe?void 0:oe.teamMember)?Object(Z.jsxs)(f.a,{variant:"contained",fullWidth:!0,startIcon:ee?Object(Z.jsx)(g.a,{size:"1rem"}):null,disabled:ee,onClick:function(){Te()},children:[" ","Save changes"]}):new Date<=new Date(i.meetingDate)&&Object(Z.jsxs)(b.a,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[Ne&&Object(Z.jsx)(f.a,{variant:"contained",fullWidth:!0,onClick:function(){return d()},sx:{mr:2},children:"Edit"}),Ie&&Object(Z.jsx)(f.a,{variant:"outlined",fullWidth:!0,onClick:function(){return Se(i._id)},children:"Delete"})]})})]}),Object(Z.jsx)(X.a,{isOpen:me,isClosed:function(e){e&&(pe(""),fe(!1),xe||(n(),O(Object(Q.d)())))},errorMessage:xe,successMessage:ye,closeSuccessNotification:function(){Ce("")}})]})},be=n(511),ve=n(160),me=n(906),fe=[],Oe={title:!1,project:!1,broker:!1};var he=function(e){var t,n=e.prevData,i=e.open,d=e.handleDetailClose,j=Object(u.b)();Object(s.useEffect)((function(){j(Object(Q.d)()),j(Object(Q.a)()),j(Object(Q.f)()),j(Object(Q.e)()),j(Object(Q.c)())}),[]);var v=function(e){return null!==e&&void 0!==e?e:""},y=Object(u.c)((function(e){var t;return null===(t=e.meeting)||void 0===t?void 0:t.brokersBygroup}));fe=Object(u.c)((function(e){var t;return null===(t=e.meeting)||void 0===t?void 0:t.meetingCard}));var S=Object(u.c)((function(e){var t;return null===(t=e.meeting)||void 0===t?void 0:t.projectListBuilder})),k=Object(s.useState)(new Date(n.startTime)),_=Object(l.a)(k,2),E=_[0],R=_[1],H=Object(s.useState)(C()(n.startTime)),A=Object(l.a)(H,2),z=A[0],L=A[1],Y=Object(s.useState)(C()(n.endTime)),B=Object(l.a)(Y,2),F=B[0],V=B[1],P=Object(s.useState)([]),q=Object(l.a)(P,2),G=q[0],J=q[1],$=JSON.parse(window.localStorage.getItem("user")),ee=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],ne=Object(s.useState)(!1),ie=Object(l.a)(ne,2),ae=ie[0],re=ie[1],ce=Object(s.useState)({agenda:v(null===n||void 0===n?void 0:n.agenda),notes:v(null===n||void 0===n?void 0:n.notes),broker:function(e){var t=[];return e.length>0&&(t=e.map((function(e){var t=null===e||void 0===e?void 0:e.name.split(" ");return{value:e.id,label:"".concat(t[0]," ").concat(Object(U.h)(t[1])?t[1]:"")}}))),t}(null===n||void 0===n?void 0:n.broker),user:v(null===n||void 0===n?void 0:n.builderId),project:null===n||void 0===n||null===(t=n.projectId)||void 0===t?void 0:t._id}),oe=Object(l.a)(ce,2),le=oe[0],se=oe[1],de=Object(s.useState)(Oe),ue=Object(l.a)(de,2),je=ue[0],he=ue[1],xe=function(e,t){var n=C()(e).format("YYYY/MM/DD"),i=C()(t).format("HH:mm"),a=C()("".concat(n," ").concat(i));return new Date(a).toISOString()};function pe(e){var t=e.target.value;"agenda"!==e.target.name&&""===e.target.value||he((function(e){return Object(o.a)(Object(o.a)({},e),{},{title:!1})})),"broker"!==e.target.name&&""===e.target.value||he((function(e){return Object(o.a)(Object(o.a)({},e),{},{broker:!1})})),se(Object(o.a)(Object(o.a)({},le),{},Object(c.a)({},e.target.name,t)))}Object(s.useEffect)((function(){}),[fe]),Object(s.useEffect)((function(){if(y.length){var e=y.map((function(e){return{value:e._id,label:"".concat(null===e||void 0===e?void 0:e.first_name," ").concat((null===e||void 0===e?void 0:e.last_name)?null===e||void 0===e?void 0:e.last_name:"")}}));J(e)}}),[y.length]);var ge=function(e){var t=[];if(y.length)for(var n=function(n){y.filter((function(t){var i;return t._id===(null===(i=e[n])||void 0===i?void 0:i.value)})).forEach((function(e){var n={id:e._id,name:"".concat(e.first_name," ").concat(e.last_name),phoneNumber:null===e||void 0===e?void 0:e.phone_number,email:e.email,status:"Invited"};t.push(n)}))},i=0;i<e.length;i++)n(i);return t},we=Object(s.useState)(!1),ye=Object(l.a)(we,2),Ce=ye[0],Se=ye[1],ke=Object(s.useState)(""),Me=Object(l.a)(ke,2),De=Me[0],Te=Me[1],Ne=Object(s.useState)(""),Ie=Object(l.a)(Ne,2),We=Ie[0],_e=Ie[1],Ee=function(){var e=Object(r.a)(a.a.mark((function e(){var t,i,r,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(le.agenda||he((function(e){return Object(o.a)(Object(o.a)({},e),{},{title:!0})})),le.broker||he((function(e){return Object(o.a)(Object(o.a)({},e),{},{broker:!0})})),le.agenda&&le.broker){e.next=4;break}return e.abrupt("return");case 4:return t=xe(E,z),i=xe(E,F),r={meetingDate:t,startTime:t,endTime:i,dayOfWeek:ee[E.getUTCDay()],broker:ge(le.broker),agenda:le.agenda,notes:le.notes,builderCompany:$.builderCompany[0]},""!==le.project&&(r.projectId=le.project),re(!0),e.next=11,Object(K.D)(null===n||void 0===n?void 0:n._id,r);case 11:200===(c=e.sent)||201===c?("Sucessfully Edited Meeting",Se(!0),_e("Sucessfully Edited Meeting"),re(!1)):("Something went wrong",Te("Something went wrong"),Se(!0),re(!1));case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Re=function(){he(Oe),d()};return Object(Z.jsxs)(Z.Fragment,{children:[Object(Z.jsx)(O.a,{open:i,onClose:Re,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",style:{zIndex:7},children:Object(Z.jsxs)(b.a,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:600,bgcolor:"background.paper",boxShadow:24,borderRadius:1,p:2},children:[Object(Z.jsx)(m.a,{id:"modal-modal-title",variant:"h4",component:"h1",children:"Edit Meeting"}),Object(Z.jsxs)(b.a,{children:[Object(Z.jsx)(M.b,{dateAdapter:D.a,children:Object(Z.jsx)(b.a,{style:{marginTop:25},children:Object(Z.jsxs)(h.a,{container:!0,columnSpacing:2,rowSpacing:2,children:[Object(Z.jsx)(h.a,{item:!0,xs:7,children:Object(Z.jsxs)(b.a,{width:"100%",children:[Object(Z.jsx)(x.a,{fullWidth:!0,margin:"normal",label:"Meeting Title",name:"agenda",required:!0,onChange:function(e){return pe(e)},value:le.agenda,variant:"outlined",error:null===je||void 0===je?void 0:je.title}),(null===je||void 0===je?void 0:je.title)&&Object(Z.jsx)("span",{style:{color:"#d32f2f"},children:"This field is required"})]})}),Object(Z.jsx)(h.a,{item:!0,xs:5,children:Object(Z.jsx)(b.a,{width:"100%",sx:{mt:"15px"},children:Object(Z.jsx)(w.a,{label:"Date",value:E,minDate:new Date,onChange:function(e){R(e),1===Object(ve.a)(E,e)&&L(C()())},renderInput:function(e){return Object(Z.jsx)(x.a,Object(o.a)({fullWidth:!0},e))}})})}),Object(Z.jsx)(h.a,{item:!0,xs:7,children:Object(Z.jsx)(b.a,{width:"100%",children:Object(Z.jsxs)(N.a,{fullWidth:!0,children:[Object(Z.jsx)(I.a,{id:"demo-simple-select-label",children:"Link Project"}),Object(Z.jsxs)(W.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:le.project,name:"project",label:"Project",onChange:function(e){return pe(e)},children:[Object(Z.jsx)(T.a,{value:"",children:Object(Z.jsx)("em",{children:"None"})}),null===S||void 0===S?void 0:S.map((function(e){return Object(Z.jsx)(T.a,{value:e._id,children:e.name})}))]})]})})}),Object(Z.jsx)(h.a,{item:!0,xs:5,children:Object(Z.jsx)(b.a,{width:"100%",children:Object(Z.jsx)(me.a,{style:{width:"-webkit-fill-available",borderRadius:"16px",height:"50px"},value:z,isToday:C()(new Date).format("YYYY/MM/DD")===C()(E).format("YYYY/MM/DD"),startTime:C()(),onChange:function(e){!function(e){L(e);var t=new Date(e),n=new Date(e),i=null===n||void 0===n?void 0:n.setMinutes((null===t||void 0===t?void 0:t.getMinutes())+30);V(C()(i))}(e)}})})}),Object(Z.jsx)(h.a,{item:!0,xs:12,children:Object(Z.jsx)(b.a,{width:"100%",children:Object(Z.jsx)(x.a,{fullWidth:!0,multiline:!0,rows:3,margin:"normal",label:"Notes",name:"notes",onChange:function(e){return pe(e)},value:le.notes,variant:"outlined"})})}),Object(Z.jsx)(h.a,{item:!0,xs:12,children:Object(Z.jsx)(b.a,{width:"100%",children:Object(Z.jsxs)(N.a,{fullWidth:!0,required:!0,children:[Object(Z.jsx)(te.a,{data:G,value:null===le||void 0===le?void 0:le.broker,handleChange:function(e){Array.isArray(e)&&e.length&&he((function(e){return Object(o.a)(Object(o.a)({},e),{},{broker:!1})})),se((function(t){return Object(o.a)(Object(o.a)({},t),{},{broker:Array.isArray(e)?e:[]})}))},placeholder:"Channel Partner *"}),(null===je||void 0===je?void 0:je.broker)&&Object(Z.jsx)(be.a,{error:"true",children:"This Field is Required"})]})})})]})})}),Object(Z.jsx)(b.a,{mb:5,position:"relative",top:"25px",children:Object(Z.jsx)(p.a,{sx:{borderBottomWidth:5}})}),Object(Z.jsxs)(b.a,{position:"relative",xs:{bottom:"6px"},md:{bottom:"0px"},xl:{bottom:"0px"},children:[Object(Z.jsx)(f.a,{variant:"contained",onClick:function(){return Ee()},children:ae?Object(Z.jsx)(g.a,{size:22,style:{color:"white"}}):"Save Changes"}),Object(Z.jsx)(f.a,{sx:{ml:2},variant:"outlined",onClick:function(){Re()},children:"Cancel"})]})]})]})}),Object(Z.jsx)(X.a,{isOpen:Ce,isClosed:function(e){e&&(Te(""),Se(!1),De||(j(Object(Q.d)()),Re()))},errorMessage:De,successMessage:We,closeSuccessNotification:function(){_e("")}})]})},xe=n(127),pe=Object(j.a)(ae.a)((function(){return"\n        .MuiDialog-paper {\n          overflow: visible;\n        }\n  "})),ge=Object(s.forwardRef)((function(e,t){return Object(Z.jsx)(re.a,Object(o.a)({direction:"down",ref:t},e))})),we=function(e){var t,n,i,d=e.openConfirm,j=e.closeConfirm,O=e.data,h=e.endTime,p=Object(v.a)(),w=Object(u.b)(),y=Object(s.useState)(!1),C=Object(l.a)(y,2),S=C[0],k=C[1],M=Object(s.useState)(!1),D=Object(l.a)(M,2),_=D[0],E=D[1],R=Object(s.useState)([]),H=Object(l.a)(R,2),A=H[0],z=H[1],L=Object(u.c)((function(e){var t;return null===(t=e.meeting)||void 0===t?void 0:t.projects})),Y=Object(u.c)((function(e){var t;return null===(t=e.team)||void 0===t?void 0:t.teamList})),B=Object(s.useState)(!1),F=Object(l.a)(B,2),V=F[0],P=F[1],q=Object(s.useState)({notes:"",broker:[],RMMember:""}),G=Object(l.a)(q,2),J=G[0],$=G[1],ee=Object(s.useState)(!1),te=Object(l.a)(ee,2),ne=te[0],ie=te[1],ae=Object(s.useState)(""),re=Object(l.a)(ae,2),oe=re[0],de=re[1],ue=Object(s.useState)(""),je=Object(l.a)(ue,2),be=je[0],ve=je[1];Object(s.useEffect)((function(){(null===Y||void 0===Y?void 0:Y.length)&&z(Y)}),[Y]),Object(s.useEffect)((function(){w(Object(Q.a)()),w(Object(Q.f)()),w(Object(se.f)()),w(Object(xe.b)(null===O||void 0===O?void 0:O.projectId))}),[]);var me=function(e,t){return"time"===t?new Date(e).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!0}).toLowerCase():new Date(e).toDateString()};function fe(e){var t=e.target.value;$(Object(o.a)(Object(o.a)({},J),{},Object(c.a)({},e.target.name,t)))}var Oe=function(){var e=Object(r.a)(a.a.mark((function e(){var t,n,i,r,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(J.RMMember),n={meetingDate:null===O||void 0===O?void 0:O.meetingDate,startTime:null===O||void 0===O?void 0:O.startTime,endTime:h,dayOfWeek:null===O||void 0===O?void 0:O.dayOfWeek,notes:(null===(t=J.notes)||void 0===t?void 0:t.length)>0?J.notes:void 0},(null===J||void 0===J?void 0:J.RMMember)&&(n.assignRm=null===J||void 0===J||null===(i=J.RMMember)||void 0===i?void 0:i._id),""!==J.project&&(n.projectId=null===O||void 0===O?void 0:O.projectId),P(!0),e.next=7,Object(K.D)(null===O||void 0===O?void 0:O._id,n);case 7:200===(r=e.sent)||201===r?(c="Sucessfully Edited Client Visit",(null===J||void 0===J?void 0:J.RMMember)&&(c="Sucessfully Edited and Ressigned the Client Visit"),ie(!0),ve(c),P(!1)):("Something went wrong",de("Something went wrong"),ie(!0),P(!1));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(Z.jsxs)(Z.Fragment,{children:[Object(Z.jsxs)(pe,{open:d,maxWidth:"xs",fullWidth:!0,TransitionComponent:ge,keepMounted:!0,onClose:j,children:[Object(Z.jsx)(b.a,{sx:{display:"flex",justifyContent:"flex-end",alignItems:"center",px:2,pt:1},children:Object(Z.jsx)(ce.a,{onClick:j,children:Object(Z.jsx)(le.a,{fontSize:"large",sx:{color:"divider"}})})}),Object(Z.jsxs)(b.a,{sx:{px:5},children:[Object(Z.jsxs)(b.a,{children:[Object(Z.jsx)(m.a,{variant:"h3",sx:{mb:1},children:O.agenda?Object(U.l)(O.agenda):"CLIENTVISIT"===O.meetingType?"CLIENT VISIT":"WALK IN"}),Object(Z.jsx)(m.a,{variant:"h4",sx:{fontWeight:"lighter",font:"Helvetica Neue Medium",mb:.5},children:function(e){var t;return(null===(t=L.filter((function(t){return t._id===e}))[0])||void 0===t?void 0:t.name)||""}(null===O||void 0===O?void 0:O.projectId)}),Object(Z.jsxs)(m.a,{variant:"h4",sx:{fontWeight:"lighter",font:"Helvetica Neue Medium"},children:[me(null===O||void 0===O?void 0:O.meetingDate,"date")," - at",me(null===O||void 0===O?void 0:O.startTime,"time")]})]}),Object(Z.jsxs)(b.a,{sx:{pt:3},children:[Object(Z.jsx)(m.a,{variant:"h4",sx:{fontWeight:"normal",font:"Helvetica Neue Medium",mb:.5},children:"Notes"}),(null===O||void 0===O||null===(t=O.notes)||void 0===t?void 0:t.length)>0?Object(Z.jsx)(m.a,{variant:"h4",sx:{font:"Helvetica Neue Medium"},children:null===O||void 0===O?void 0:O.notes}):Object(Z.jsx)(Z.Fragment,{children:S?Object(Z.jsxs)(Z.Fragment,{children:[Object(Z.jsx)(m.a,{variant:"subtitle2",onClick:function(){k(!1),$(Object(o.a)(Object(o.a)({},J),{},{notes:""}))},sx:{fontWeight:600,font:"Helvetica Neue Medium",color:p.palette.error.main,cursor:"pointer"},children:"Click to close"}),Object(Z.jsx)(b.a,{width:"100%",sx:{mt:-1},children:Object(Z.jsx)(x.a,{fullWidth:!0,multiline:!0,margin:"normal",label:"Notes",name:"notes",onChange:function(e){return fe(e)},value:J.notes,variant:"outlined"})})]}):Object(Z.jsx)(Z.Fragment,{children:Object(Z.jsxs)(b.a,{sx:{display:"flex",justifyContent:"flex-start",alignItems:"center",columnGap:1},children:[Object(Z.jsx)(m.a,{variant:"subtitle2",sx:{fontWeight:600,font:"Helvetica Neue Medium",color:"#c0c1c3"},children:"No notes added,"}),Object(Z.jsx)(m.a,{variant:"subtitle2",onClick:function(){k(!0)},sx:{fontWeight:600,font:"Helvetica Neue Medium",color:p.palette.primary.main,cursor:"pointer"},children:"Add now"})]})})})]}),Object(Z.jsxs)(b.a,{sx:{py:3},children:[Object(Z.jsx)(m.a,{variant:"h4",sx:{fontWeight:"normal",font:"Helvetica Neue Medium",mb:.5},children:"Visit requested by"}),Object(Z.jsx)(m.a,{variant:"h4",children:Object(U.l)("".concat(null===O||void 0===O||null===(n=O.organizer)||void 0===n?void 0:n.first_name," ").concat(null===O||void 0===O||null===(i=O.organizer)||void 0===i?void 0:i.last_name))})]})]}),new Date<=new Date(O.meetingDate)&&Object(Z.jsx)(b.a,{sx:{display:"flex",justifyContent:"flex-start",alignItems:"center",columnGap:1,background:"#f5f8fd",borderTop:1.5,borderBottom:1.5,borderColor:"divider",px:5,py:2,mt:2},children:_?Object(Z.jsx)(Z.Fragment,{children:Object(Z.jsxs)(b.a,{width:"100%",children:[Object(Z.jsxs)(b.a,{sx:{display:"flex",justifyContent:"flex-start",alignItems:"center",columnGap:1,rowGap:1,mb:.5},children:[Object(Z.jsx)(I.a,{variant:"subtitle2",sx:{fontWeight:600,font:"Helvetica Neue Medium"},children:"Select Relation Manager"}),Object(Z.jsx)(m.a,{variant:"subtitle2",onClick:function(){E(!1),$(Object(o.a)(Object(o.a)({},J),{},{RMMember:""}))},sx:{fontWeight:600,font:"Helvetica Neue Medium",color:p.palette.error.main,cursor:"pointer"},children:"Click to close"})]}),Object(Z.jsx)(N.a,{fullWidth:!0,required:!0,children:Object(Z.jsxs)(W.a,{labelId:"demo-simple-select-label",name:"RMMember",id:"demo-simple-select",value:J.RMMember,placeholder:"RM Member",onChange:function(e){return fe(e)},children:[Object(Z.jsx)(T.a,{value:"",children:Object(Z.jsx)("em",{children:"None"})}),A.map((function(e){return Object(Z.jsxs)(T.a,{value:e,children:["".concat(null===e||void 0===e?void 0:e.first_name," ").concat(null===e||void 0===e?void 0:e.last_name)," "]})}))]})})]})}):Object(Z.jsxs)(Z.Fragment,{children:[Object(Z.jsx)(m.a,{variant:"h4",sx:{fontWeight:"normal",font:"Helvetica Neue Medium"},children:"Not available?"}),Object(Z.jsx)(m.a,{variant:"h4",onClick:function(){E(!0)},sx:{fontWeight:600,font:"Helvetica Neue Medium",color:p.palette.primary.main,cursor:"pointer"},children:"Reassign to a team member"})]})}),Object(Z.jsx)(b.a,{sx:{display:"flex",justifyContent:"flex-start",alignItems:"center",px:5,py:3},children:(""!==(null===J||void 0===J?void 0:J.notes)||(null===J||void 0===J?void 0:J.broker.length)>0||(null===J||void 0===J?void 0:J.RMMember))&&Object(Z.jsx)(Z.Fragment,{children:Object(Z.jsx)(f.a,{variant:"contained",fullWidth:!0,startIcon:V?Object(Z.jsx)(g.a,{size:"1rem"}):null,disabled:V,onClick:function(){Oe()},children:"Save changes"})})})]}),Object(Z.jsx)(X.a,{isOpen:ne,isClosed:function(e){e&&(de(""),ie(!1),oe||(w(Object(Q.d)()),j()))},errorMessage:oe,successMessage:be,closeSuccessNotification:function(){ve("")}})]})};n(1164);C.a.locale("en-GB");var ye=Object(ie.b)(C.a),Ce=function(){var e,t=Object(s.useState)(!1),n=Object(l.a)(t,2),i=n[0],a=n[1],r=Object(s.useState)(),c=Object(l.a)(r,2),o=c[0],d=c[1],j=Object(s.useState)(!1),b=Object(l.a)(j,2),v=b[0],m=b[1],f=Object(s.useState)({}),O=Object(l.a)(f,2),h=O[0],x=O[1],p=Object(s.useState)({}),g=Object(l.a)(p,2),w=g[0],y=g[1],S=Object(s.useState)(!1),k=Object(l.a)(S,2),M=k[0],D=k[1],T=function(){a(!1)};e=Object(u.c)((function(e){var t;return null===(t=e.meeting)||void 0===t?void 0:t.data}));var N=Object(s.useState)([]),I=Object(l.a)(N,2),W=I[0],_=I[1];Object(s.useEffect)((function(){R(e)}),[e]);var E=function(e){var t=new Date(e),n=new Date(e),i=null===n||void 0===n?void 0:n.setMinutes((null===t||void 0===t?void 0:t.getMinutes())+60);return new Date(C()(i))},R=function(e){if(e.length){var t=null===e||void 0===e?void 0:e.map((function(e){return{title:e.agenda?Object(U.k)(e.agenda):"CLIENTVISIT"===e.meetingType?"CLIENT VISIT":"WALK IN",allDay:!1,start:new Date(null===e||void 0===e?void 0:e.startTime),end:new Date(null===e||void 0===e?void 0:e.endTime).getTime()?new Date(null===e||void 0===e?void 0:e.endTime):E(e.startTime),id:null===e||void 0===e?void 0:e._id,data:e,meetingType:null===e||void 0===e?void 0:e.meetingType}}));_(t)}},H=new Date;H.setDate(H.getDate()),H.setHours(8),H.setMinutes(0),H.setMilliseconds(0);return Object(s.useEffect)((function(){setInterval((function(){var e=(new Date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1});d(e)}),1e3),setTimeout((function(){var e=document.getElementsByClassName("rbc-current-time-indicator").item(0),t=document.getElementsByClassName("getTimenow").item(0);e.appendChild(t),t.classList.add("getTimenowCss")}))}),[]),Object(Z.jsxs)(Z.Fragment,{children:[Object(Z.jsxs)(B.a,{sx:{width:{xs:"100%",md:"100%"},height:"570px",p:2},children:[Object(Z.jsx)("div",{className:"getTimenow",children:o}),Object(Z.jsx)(ie.a,{events:W,step:30,view:"week",views:["week"],defaultDate:new Date,localizer:ye,min:ye.startOf(H),onSelectEvent:function(e){x(null===e||void 0===e?void 0:e.data),"CLIENTVISIT"===(null===e||void 0===e?void 0:e.meetingType)||"WALKIN"===(null===e||void 0===e?void 0:e.meetingType)?(m(!0),y(null===e||void 0===e?void 0:e.end)):a(!0)},eventPropGetter:function(e){var t={backgroundColor:"orange",color:"white",borderRadius:"0px",border:"none"};return"CLIENTVISIT"===e.meetingType?t.backgroundColor="#1985eb":"WALKIN"===e.meetingType&&(t.backgroundColor="#19c86c"),{style:t}}})]}),i&&Object(Z.jsx)(je,{openConfirm:i,closeConfirm:T,data:h,handleEdit:function(){T(),D(!0)}}),M&&Object(Z.jsx)(he,{prevData:h,open:M,handleDetailClose:function(){D(!1),x({})},editType:"button"}),v&&Object(Z.jsx)(we,{openConfirm:v,closeConfirm:function(){m(!1)},data:h,endTime:w})]})};_.a.use([E.a,R.a]);var Se={title:!1,project:!1,broker:!1},ke=Object(j.a)(b.a)((function(e){var t=e.theme;return"\n        .swiper-pagination {\n          .swiper-pagination-bullet {\n            background: ".concat(t.palette.primary.main,";\n            opacity: 1;\n    \n            &.swiper-pagination-bullet-active {\n              background: lightgray;\n              width: 16px;\n              border-radius: 6px;\n            }\n          }\n        }\n    ")}));t.default=function(){var e,t,n=Object(u.b)(),i=Object(u.c)((function(e){return e.meeting.brokersBygroup}));Object(s.useEffect)((function(){n(Object(Q.d)()),n(Object(Q.a)()),n(Object(Q.f)()),n(Object(Q.g)(le.builderCompany[0])),n(Object(Q.c)()),n(Object(Q.h)()),n(Object(Q.b)()),n(Object(L.h)())}),[]),t=Object(u.c)((function(e){var t;return null===(t=e.meeting)||void 0===t?void 0:t.meetingCard}));var j=Object(u.c)((function(e){var t;return null===(t=e.meeting)||void 0===t?void 0:t.projectListBuilder})),y=Object(s.useState)(new Date),S=Object(l.a)(y,2),_=S[0],E=S[1],R=Object(s.useState)(C()()),Y=Object(l.a)(R,2),B=Y[0],F=Y[1],V=Object(s.useState)(C()()),P=Object(l.a)(V,2),q=P[0],G=P[1],J=Object(s.useState)([]),U=Object(l.a)(J,2),$=U[0],ie=U[1],ae=Object(s.useState)([]),re=Object(l.a)(ae,2),ce=re[0],oe=re[1],le=JSON.parse(window.localStorage.getItem("user")),se=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],de=Object(s.useState)(!1),ue=Object(l.a)(de,2),je=ue[0],be=ue[1],ve=Object(s.useState)({agenda:"",notes:"",broker:[],user:"",project:""}),fe=Object(l.a)(ve,2),Oe=fe[0],he=fe[1],xe=Object(s.useState)(Se),pe=Object(l.a)(xe,2),ge=pe[0],we=pe[1],ye=Object(s.useState)(!1),Me=Object(l.a)(ye,2),De=Me[0],Te=Me[1],Ne=Object(s.useState)(""),Ie=Object(l.a)(Ne,2),We=Ie[0],_e=Ie[1],Ee=Object(s.useState)(""),Re=Object(l.a)(Ee,2),He=Re[0],Ae=Re[1];Object(s.useEffect)((function(){if(i.length){var e=i.map((function(e){return{value:e._id,label:"".concat(null===e||void 0===e?void 0:e.first_name," ").concat((null===e||void 0===e?void 0:e.last_name)?null===e||void 0===e?void 0:e.last_name:"")}}));ie(e)}}),[i.length]),Object(s.useEffect)((function(){Le(C()())}),[]);var ze=function(e,t){var n=C()(e).format("YYYY/MM/DD"),i=C()(t).format("HH:mm"),a=C()("".concat(n," ").concat(i));return new Date(a).toISOString()},Le=function(e){F(e);var t=new Date(e),n=new Date(e),i=null===n||void 0===n?void 0:n.setMinutes((null===t||void 0===t?void 0:t.getMinutes())+30);G(C()(i))};function Ye(e){var t=e.target.value;"agenda"!==e.target.name&&""===e.target.value||we((function(e){return Object(o.a)(Object(o.a)({},e),{},{title:!1})})),"broker"!==e.target.name&&""===e.target.value||we((function(e){return Object(o.a)(Object(o.a)({},e),{},{broker:!1})})),he(Object(o.a)(Object(o.a)({},Oe),{},Object(c.a)({},e.target.name,t)))}var Be=function(e){var t=[];if(ce.length)for(var n=function(n){i.filter((function(t){return t._id===e[n].value})).forEach((function(e){var n={id:e._id,name:"".concat(e.first_name," ").concat(e.last_name?null===e||void 0===e?void 0:e.last_name:""),phoneNumber:null===e||void 0===e?void 0:e.phoneNumber,email:e.email,status:"Invited"};t.push(n)}))},a=0;a<e.length;a++)n(a);return t},Fe=function(e){var t;return(null===(t=j.filter((function(t){return t._id===e}))[0])||void 0===t?void 0:t.name)||""},Ve=function(){var e=Object(r.a)(a.a.mark((function e(){var t,i,r,c,l;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Oe.agenda||we((function(e){return Object(o.a)(Object(o.a)({},e),{},{title:!0})})),0===ce.length&&we((function(e){return Object(o.a)(Object(o.a)({},e),{},{broker:!0})})),Oe.agenda&&ce){e.next=4;break}return e.abrupt("return");case 4:if(t=ze(_,B),i=ze(_,q),r={meetingDate:t,startTime:t,endTime:i,dayOfWeek:se[_.getUTCDay()],broker:Be(ce),agenda:Oe.agenda,notes:Oe.notes,builderCompany:le.builderCompany[0]},""!==Oe.project&&(r.projectId=Oe.project),be(!0),!(r.broker.length>0)){e.next=16;break}return e.next=12,Object(K.v)(r);case 12:200===(c=e.sent)||201===c?(Te(!0),Ae("Successfully Created Meeting"),be(!1),n(Object(Q.d)()),Ue()):400===c?("Meeting Exists in Database.",_e("Meeting Exists in Database."),Te(!0),be(!1)):(l=c.data.message||"Something went wrong",_e(l),Te(!0),be(!1)),e.next=17;break;case 16:be(!1);case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Pe=Object(v.a)(),qe=Object(s.useState)(!1),Ge=Object(l.a)(qe,2),Je=Ge[0],Ke=Ge[1],Ue=function(){we(Se),Ke(!1),he({agenda:"",notes:"",broker:[],user:"",project:""})};console.log("meetingsmeetings",t);var Qe=Object(z.b)();return Object(Z.jsxs)(Z.Fragment,{children:[Object(Z.jsx)(d.a,{children:Object(Z.jsx)("title",{children:"Meetings and Visits"})}),Object(Z.jsxs)(b.a,{sx:{ml:4,height:"90%",width:"100%",pl:{xs:5,lg:0},pr:{xs:5,md:7}},children:[Object(Z.jsxs)(b.a,{sx:{py:4,display:"flex",justifyContent:"space-between"},children:[Object(Z.jsx)(m.a,{sx:{fontSize:"".concat(Pe.typography.pxToRem(15)),mb:1,mt:1},variant:"h4",children:"MEETINGS & VISITS"}),Qe&&Object(Z.jsx)(f.a,{variant:"contained",startIcon:Object(Z.jsx)(k.a,{fontSize:"medium"}),onClick:function(){return Ke(!0),E(new Date),F(C()()),G(C()()),oe([]),void he(Object(o.a)(Object(o.a)({},Oe),{},{agenda:"",notes:"",project:""}))},children:"Add New Meeting"}),Object(Z.jsx)(O.a,{open:Je,onClose:Ue,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",style:{zIndex:7},children:Object(Z.jsxs)(b.a,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:600,bgcolor:"background.paper",boxShadow:24,borderRadius:1,p:2},children:[Object(Z.jsx)(m.a,{id:"modal-modal-title",variant:"h4",component:"h1",mt:2,children:"Add Meeting"}),Object(Z.jsxs)(b.a,{children:[Object(Z.jsx)(M.b,{dateAdapter:D.a,children:Object(Z.jsx)(b.a,{style:{marginTop:25},children:Object(Z.jsxs)(h.a,{container:!0,columnSpacing:2,rowSpacing:2,children:[Object(Z.jsx)(h.a,{item:!0,xs:7,children:Object(Z.jsxs)(b.a,{width:"100%",children:[Object(Z.jsx)(x.a,{fullWidth:!0,margin:"normal",label:"Meeting Title",name:"agenda",required:!0,onChange:function(e){return Ye(e)},value:Oe.agenda,variant:"outlined",error:null===ge||void 0===ge?void 0:ge.title}),(null===ge||void 0===ge?void 0:ge.title)&&Object(Z.jsx)("span",{style:{color:"#d32f2f"},children:"This field is required"})]})}),Object(Z.jsx)(h.a,{item:!0,xs:5,children:Object(Z.jsx)(b.a,{width:"100%",sx:{mt:"15px"},children:Object(Z.jsx)(w.a,{label:"Date",value:_,minDate:new Date,onChange:function(e){E(e)},renderInput:function(e){return Object(Z.jsx)(x.a,Object(o.a)({fullWidth:!0},e))}})})}),Object(Z.jsx)(h.a,{item:!0,xs:7,children:Object(Z.jsx)(b.a,{width:"100%",children:Object(Z.jsxs)(N.a,{fullWidth:!0,children:[Object(Z.jsx)(I.a,{id:"demo-simple-select-label",children:"Link Project"}),Object(Z.jsxs)(W.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:Oe.project,name:"project",label:"Project",onChange:function(e){return Ye(e)},children:[Object(Z.jsx)(T.a,{value:"",children:Object(Z.jsx)("em",{children:"None"})}),null===j||void 0===j?void 0:j.map((function(e){return Object(Z.jsx)(T.a,{value:e._id,children:e.name})}))]})]})})}),Object(Z.jsx)(h.a,{item:!0,xs:5,children:Object(Z.jsx)(b.a,{width:"100%",children:Object(Z.jsx)(me.a,{value:B,style:{width:"-webkit-fill-available"},startTime:C()(),isToday:C()(new Date).format("YYYY/MM/DD")===C()(_).format("YYYY/MM/DD"),onChange:function(e){Le(e)}})})}),Object(Z.jsx)(h.a,{item:!0,xs:12,children:Object(Z.jsx)(b.a,{width:"100%",children:Object(Z.jsx)(x.a,{fullWidth:!0,multiline:!0,rows:3,margin:"normal",label:"Notes",name:"notes",onChange:function(e){return Ye(e)},value:Oe.notes,variant:"outlined"})})}),Object(Z.jsx)(h.a,{item:!0,xs:12,children:Object(Z.jsx)(b.a,{width:"100%",children:Object(Z.jsxs)(N.a,{fullWidth:!0,variant:"outlined",children:[Object(Z.jsx)(te.a,{data:$,value:ce,handleChange:function(e){oe(e)},placeholder:"Channel Partner *"}),(null===ge||void 0===ge?void 0:ge.broker)&&Object(Z.jsx)("span",{style:{color:"#d32f2f"},children:"This field is required"})]})})})]})})}),Object(Z.jsx)(b.a,{mb:5,position:"relative",top:"25px",children:Object(Z.jsx)(p.a,{sx:{borderBottomWidth:5}})}),Object(Z.jsxs)(b.a,{position:"relative",xs:{bottom:"6px"},md:{bottom:"0px"},xl:{bottom:"0px"},children:[Object(Z.jsx)(f.a,{variant:"contained",onClick:function(){return Ve()},children:je?Object(Z.jsx)(g.a,{size:22,style:{color:"white"}}):"Create Meeting"}),Object(Z.jsx)(f.a,{sx:{ml:2},variant:"outlined",onClick:function(){Ue()},children:"Cancel"})]})]})]})})]}),Object(Z.jsx)(Z.Fragment,{children:Object(Z.jsx)(b.a,{my:2,sx:{ml:{xs:-1,md:2},mr:{xs:-1,md:0}},children:Object(Z.jsx)(ke,{sx:{position:"relative",py:0,ml:{xs:-3.5,sm:0,md:-3.5}},children:Object(Z.jsx)(H.a,{spaceBetween:1,slidesPerView:1,navigation:{nextEl:".MuiSwipe-right",prevEl:".MuiSwipe-left"},breakpoints:{500:{slidesPerView:1,spaceBetween:0},768:{slidesPerView:3,spaceBetween:0},1200:{slidesPerView:3,spaceBetween:0},1920:{slidesPerView:4,spaceBetween:0}},pagination:{dynamicBullets:!0,clickable:!0},children:t.length>0&&(null===(e=t)||void 0===e?void 0:e.map((function(e,t){var n=e.organizer,i=e.meetingDate,a=e.projectId;return Object(Z.jsx)(A.a,{children:Object(Z.jsx)(b.a,{sx:{mx:{xs:1.5}},children:Object(Z.jsx)(ee,{mainText:"".concat(n.first_name," ").concat(n.last_name),description:Fe(a),dateTime:Object(ne.a)(i),data:e})},t)})})))})})})}),Object(Z.jsx)(b.a,{sx:{width:"100%",typography:"body1",mt:t.length>0?4:2},children:Object(Z.jsx)(b.a,{sx:{display:"flex",flexDirection:"row",justifyContent:"flex-start"},children:Object(Z.jsx)(Ce,{})})})]}),Object(Z.jsx)(X.a,{isOpen:De,isClosed:function(e){e&&(_e(""),Te(!1),We||n(Object(Q.d)()))},errorMessage:We,successMessage:He,closeSuccessNotification:function(){Ae("")}})]})}},845:function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"e",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"f",(function(){return d})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return o})),n.d(t,"g",(function(){return l}));var i=n(21),a=function(){var e=Object(i.c)((function(e){var t;return null===e||void 0===e||null===(t=e.auth)||void 0===t?void 0:t.data})),t=!1;return("ADMIN"===(null===e||void 0===e?void 0:e.roleName)||(null===e||void 0===e?void 0:e.permissions.some((function(e){return"addBroadcast"===e.name}))))&&(t=!0),t},r=function(){var e=Object(i.c)((function(e){var t;return null===e||void 0===e||null===(t=e.auth)||void 0===t?void 0:t.data})),t=!1;return("ADMIN"===(null===e||void 0===e?void 0:e.roleName)||(null===e||void 0===e?void 0:e.permissions.some((function(e){return"addEvent"===e.name}))))&&(t=!0),t},c=function(){var e=Object(i.c)((function(e){var t;return null===e||void 0===e||null===(t=e.auth)||void 0===t?void 0:t.data})),t=!1;return("ADMIN"===(null===e||void 0===e?void 0:e.roleName)||(null===e||void 0===e?void 0:e.permissions.some((function(e){return"addCRMMember"===e.name}))))&&(t=!0),t},o=function(){var e=Object(i.c)((function(e){var t;return null===e||void 0===e||null===(t=e.auth)||void 0===t?void 0:t.data})),t=!1;return("ADMIN"===(null===e||void 0===e?void 0:e.roleName)||(null===e||void 0===e?void 0:e.permissions.some((function(e){return"addMeetings"===e.name}))))&&(t=!0),t},l=function(){var e=Object(i.c)((function(e){var t;return null===e||void 0===e||null===(t=e.auth)||void 0===t?void 0:t.data})),t=!1;return("ADMIN"===(null===e||void 0===e?void 0:e.roleName)||(null===e||void 0===e?void 0:e.permissions.some((function(e){return"deleteMeetings"===e.name}))))&&(t=!0),t},s=function(){var e=Object(i.c)((function(e){var t;return null===e||void 0===e||null===(t=e.auth)||void 0===t?void 0:t.data})),t=!1;return("ADMIN"===(null===e||void 0===e?void 0:e.roleName)||(null===e||void 0===e?void 0:e.permissions.some((function(e){return"addMember"===e.name}))))&&(t=!0),t},d=function(){var e=Object(i.c)((function(e){var t;return null===e||void 0===e||null===(t=e.auth)||void 0===t?void 0:t.data})),t=!1;return("ADMIN"===(null===e||void 0===e?void 0:e.roleName)||(null===e||void 0===e?void 0:e.permissions.some((function(e){return"addProject"===e.name}))))&&(t=!0),t}},906:function(e,t,n){"use strict";var i,a=n(95),r=n(996),c=n(10),o=n(155),l=(n(1),n(307)),s=n.n(l),d=n(1023),u=(n(995),n(0)),j=["className","onChange","value","startTime","isToday","endTime","minuteStep"],b=function(e){var t=e.className,n=e.onChange,i=e.value,a=e.startTime,r=e.isToday,l=void 0!==r&&r,b=e.endTime,v=void 0!==b&&b,m=e.minuteStep,f=void 0===m?1:m,O=Object(o.a)(e,j);return Object(u.jsx)(d.a,Object(c.a)(Object(c.a)({},O),{},{className:t,popupClassName:t,showSecond:!1,onChange:n,hideDisabledOptions:!0,minuteStep:f,value:i,use12Hours:!0,disabledHours:function(){return l||v?function(e){for(var t=[],n=0;n<s()(e).hour();n++)t.push(n);return t}(a):[]},disabledMinutes:function(e){return l||v?function(e,t){var n=[];if(e===s()(t).hour())for(var i=0;i<s()(t).minute();i++)n.push(i);return n}(e,a):[]}}))},v=Object(r.a)(b)(i||(i=Object(a.a)(["\n  & .rc-time-picker-panel-select-option-selected {\n    background-color: #edeffe;\n    font-weight: normal;\n  \n  }\n\n  & .rc-time-picker-clear,\n  & .rc-time-picker-clear-icon:after {\n    font-size: 17px;\n    margin:5px;\n  }\n  & .rc-time-picker-input{\n    height:50px;\n    border-radius:10px\n  \n  }\n  & .rc-time-picker-panel-select{\n    width:'-webkit-fill-available';\n  }\n  & .rc-time-picker-panel-select,\n  & .rc-time-picker-input,\n  & .rc-time-picker-panel-input {\n    font-family: \"Consolas\", sans-serif;\n    font-size: 17px;\n    cursor: pointer;\n\n\n    \n\n    ::-webkit-scrollbar {\n      width: 0;\n      height: 0;\n    }\n  }\n"])));t.a=v},914:function(e,t,n){"use strict";var i=n(10),a=(n(1),n(1080)),r=n(1054),c=n(0),o=Object(r.a)(),l={control:function(e){return Object(i.a)(Object(i.a)({},e),{},{minHeight:50,borderRadius:"10px"})}};t.a=function(e){var t=e.data,n=e.handleChange,i=e.placeholder,r=e.value;return Object(c.jsx)(a.a,{options:t,minMenuHeight:"200px",value:r,styles:l,components:o,isMulti:!0,onChange:n,placeholder:i})}}}]);
//# sourceMappingURL=52.9246b26f.chunk.js.map