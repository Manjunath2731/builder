(this["webpackJsonptokyo-white-react-admin-dashboard-js"]=this["webpackJsonptokyo-white-react-admin-dashboard-js"]||[]).push([[77],{1373:function(e,t,n){"use strict";n.r(t);var i=n(3),a=n.n(i),r=n(6),c=n(10),o=n(17),l=n(4),s=n(1),d=n(62),u=n(23),j=n(830),b=n.n(j),m=n(353),x=n(795),v=n(821),h=n(306),f=n.n(h),O=n(8),p=n(172),g=n(706),y=n(66),w=n(43),C=n(27),A=n(29),I=n(819),M=n(89),S=n(171),N=n(39),k=n(21),D=n(158),_=n(73),L=n(729),T=n(31),R=n(0),E=Object(O.a)(p.a)((function(e){var t=e.theme;return"\n      transition: ".concat(t.transitions.create(["box-shadow"]),";\n      position: relative;\n      border-radius: 0px;\n      z-index: 5;\n      width: 100%;\n      height: 100%;\n      border: 0.2px solid #cedbef;\n      ")})),z=function(e){var t=e.name,n=e.designation,i=e.number,a=e.email,r=e.id,c=e.profileUrl,o=e.isEditAllowed,d=void 0===o||o,j=e.isActive,b=void 0===j||j,m=Object(k.b)(),x=Object(u.h)(),v=Object(u.i)().selectedTab,h=Object(s.useState)(!1),f=Object(l.a)(h,2),O=f[0],p=f[1],g=Object(s.useState)(""),y=Object(l.a)(g,2),w=y[0],I=y[1],S=Object(s.useState)(""),N=Object(l.a)(S,2),_=N[0],z=N[1],B=t.match(/\b(\w)/g);B.join("");var P=function(e){var t="number"===e?i:a,n=document.createElement("input");n.value=t,document.body.appendChild(n),n.select(),document.execCommand("copy"),p(!0),I("Copied!"),document.body.removeChild(n)};return Object(R.jsx)(R.Fragment,{children:Object(R.jsxs)(E,{id:r,sx:{height:"100%"},children:[Object(R.jsxs)(C.a,{sx:{paddingLeft:"20px",paddingTop:"45px",paddingBottom:"36px",display:"flex",flexDirection:"row",alignItems:"center"},children:[c?Object(R.jsx)(L.a,{sx:{width:{xs:112,md:100,xl:112},height:{xs:112,md:100,xl:112},bottom:"15px"},alt:"Remy Sharp",src:c}):Object(R.jsx)(L.a,{sx:{width:{xs:112,md:100,xl:112},height:{xs:112,md:100,xl:112},padding:6,bgcolor:"#DBDBDB",fontSize:"35px"},children:B}),Object(R.jsxs)(C.a,{sx:{ml:5,width:"100%"},children:[Object(R.jsxs)(C.a,{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"},children:[Object(R.jsxs)(C.a,{sx:{display:"flex",flexDirection:"row",alignItems:"center",columnGap:1},children:[Object(R.jsx)(A.a,{variant:"h5",children:t}),!b&&Object(R.jsx)(A.a,{variant:"h5",sx:{color:"#f24743"},children:"Deactivated"})]}),d&&Object(R.jsx)(M.a,{variant:"contained",size:"small",sx:{height:26,width:64,borderRadius:.5,marginRight:5},onClick:function(){return m(Object(D.e)()),void x("/team/add-member/".concat(v,"/Edit/").concat(r))},children:Object(R.jsx)(A.a,{variant:"body2",children:"Edit"})})]}),Object(R.jsx)(A.a,{variant:"subtitle1",sx:{marginTop:"10px",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",maxWidth:{xs:"400px",md:"250px",lg:"260px",xl:"400px"}},children:n}),Object(R.jsxs)(C.a,{sx:{display:"flex",flexDirection:"row",mt:1,justifyContent:"flex-start",flexWrap:"wrap",columnGap:{xs:5,md:2,xl:4,lg:2},rowGap:{xs:2},cursor:"pointer"},children:[Object(R.jsxs)(C.a,{sx:{display:"flex",flexDirection:"row",alignItems:"center"},onClick:function(){return P("number")},children:[Object(R.jsx)("img",{src:"/static/images/logo/call-icon-green.svg",alt:"call"}),Object(R.jsx)(A.a,{variant:"subtitle1",sx:{ml:1},children:i})]}),Object(R.jsxs)(C.a,{sx:{display:"flex",flexDirection:"row",alignItems:"center"},onClick:function(){return P("email")},children:[Object(R.jsx)("img",{src:"/static/images/logo/email-icon-green.svg",alt:"email"}),Object(R.jsx)(A.a,{variant:"subtitle1",sx:{ml:1,fontSize:"0.9em"},children:a})]})]})]})]}),Object(R.jsx)(T.a,{isOpen:O,isClosed:function(e){e&&(z(""),p(!1))},errorMessage:_,successMessage:w,closeSuccessNotification:function(){I("")}})]})})},B=n(845),P=n(835),W=n(127),V=Object(O.a)(p.a)((function(e){var t=e.theme;return"\n    transition: ".concat(t.transitions.create(["box-shadow"]),";\n    position: relative;\n    border-radius: 8px;\n    z-index: 5;\n    box-shadow: \n    0 0.56875rem 3.3rem ").concat(Object(g.a)(t.colors.alpha.black[100],.05),",\n    0 0.9975rem 2.4rem ").concat(Object(g.a)(t.colors.alpha.black[100],.07),",\n    0 0.35rem 1rem ").concat(Object(g.a)(t.colors.alpha.black[100],.1),",\n    0 0.225rem 0.8rem ").concat(Object(g.a)(t.colors.alpha.black[100],.15),";\n  ")})),F=Object(O.a)(y.c)((function(e){var t=e.theme;return"\n    font-size: ".concat(t.typography.pxToRem(18),";\n    height: 60px;\n    width: 100%;\n")}));t.default=function(){var e,t,n=JSON.parse(window.localStorage.getItem("user")),i=Object(u.i)().selectedTab,j=Object(s.useState)({Projects:"All"}),h=Object(l.a)(j,2),O=h[0],p=h[1],g=Object(s.useState)([]),y=Object(l.a)(g,2),L=y[0],T=y[1],E=Object(s.useState)([]),G=Object(l.a)(E,2),U=G[0],H=G[1],J=Object(s.useState)(Object(N.c)()?"2":"1"),q=Object(l.a)(J,2),K=q[0],Q=q[1],X=Object(s.useState)({team:0,crm:0}),Y=Object(l.a)(X,2),Z=Y[0],$=Y[1],ee=Object(u.h)(),te=function(e,t){var n=[];return e.reduce((function(e,t){if(!t)return e;var i=function(e,t){if(!e.length)return 0;var n=Object(o.a)(e);return{user:e.filter((function(e,i){var a;return!!(null===e||void 0===e||null===(a=e._id)||void 0===a?void 0:a.includes(t))&&(n.splice(i,1),!0)})),tempList:n}}(Object(o.a)(e),t),a=i.user,r=i.tempList;return(null===a||void 0===a?void 0:a.length)&&n.push(a[0]),r}),t),n},ne=function(e){var t=e.target,n=t.name,i=t.value,a=Object(c.a)({},O);a[n]=i;var r="1"===K?ye:Ie;if(p(a),"All"===i)H(r),Oe(r);else{var o="1"===K?null===i||void 0===i?void 0:i.rmList:null===i||void 0===i?void 0:i.crmList,l=te(o,r);console.log({data:l}),H(l),Oe(l)}},ie=function(e){return null!==e&&void 0!==e?e:""},ae=[],re=Object(k.b)();ae=Object(k.c)((function(e){return e.projectList.projectListBuilder})),Object(s.useEffect)((function(){re(Object(_.a)()),re(Object(D.f)()),re(Object(D.d)()),re(Object(W.a)(n.builderCompany[0])),Q("crm"===i?"2":"1")}),[]),Object(s.useEffect)((function(){if(0!==ae.length){var e=ae.filter((function(e){return"PUBLISHED"===e.status})).map((function(e){var t,n;return{label:e.name,id:{_id:e._id,name:e.name,crmList:null===e||void 0===e||null===(t=e.crmManager)||void 0===t?void 0:t.map((function(e){return e})),rmList:null===e||void 0===e||null===(n=e.relationManager)||void 0===n?void 0:n.map((function(e){return e}))}}}));T(e)}}),[ae]),e=Object(k.c)((function(e){return e.team.teamList})),t=Object(k.c)((function(e){return e.team.crmList}));var ce=function(e,t){Oe("crm"===i?e:t)};Object(s.useEffect)((function(){var n,i,a,r;(null===(n=e)||void 0===n?void 0:n.length)>0&&(we(e),$(Object(c.a)(Object(c.a)({},Z),{},{team:null===(a=e)||void 0===a?void 0:a.length})));(null===(i=t)||void 0===i?void 0:i.length)>0&&($(Object(c.a)(Object(c.a)({},Z),{},{crm:null===(r=t)||void 0===r?void 0:r.length})),Me(t));ce(t,e)}),[e,t]);var oe=function(){var e=Object(r.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),""===t.target.value?(Oe(U),xe("")):(xe(t.target.value),se(t.target.value));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),le=function(){var e=Object(r.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),""===t.target.value?(Oe(U),xe("")):(xe(t.target.value),de(t.target.value));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),se=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").toLowerCase(),t=U.filter((function(t){return-1!=="".concat(ie(t.first_name).toLowerCase()," ").concat(ie(t.last_name).toLowerCase()).indexOf(e)}));Oe(t)},de=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").toLowerCase(),t=U.filter((function(t){return-1!=="".concat(ie(t.first_name).toLowerCase()," ").concat(ie(t.last_name).toLowerCase()).indexOf(e)}));Oe(t)},ue=function(e){return null!==e&&void 0!==e?e.charAt(0).toUpperCase()+e.slice(1):""},je=Object(s.useState)(""),be=Object(l.a)(je,2),me=be[0],xe=be[1],ve=Object(s.useState)([]),he=Object(l.a)(ve,2),fe=he[0],Oe=he[1],pe=Object(s.useState)([]),ge=Object(l.a)(pe,2),ye=ge[0],we=ge[1],Ce=Object(s.useState)([]),Ae=Object(l.a)(Ce,2),Ie=Ae[0],Me=Ae[1],Se=Object(w.a)(),Ne=Object(B.c)(),ke=Object(B.a)();return Object(s.useEffect)((function(){var e="1"===K?ye:Ie;H(e),Oe(e)}),[ye,Ie,K]),Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(d.a,{children:Object(R.jsx)("title",{children:"Teams"})}),Object(R.jsxs)(C.a,{sx:{ml:4,py:4,pl:{xs:5,lg:0},pr:{xs:5,md:7}},children:[Object(R.jsx)(A.a,{sx:{fontSize:"".concat(Se.typography.pxToRem(15)),mb:3,mt:2},variant:"h4",children:"TEAMS"}),Object(R.jsx)(C.a,{sx:{width:"100%",typography:"body1"},children:Object(R.jsxs)(m.a,{value:K,children:[Object(R.jsxs)(C.a,{container:!0,sx:{borderBottom:Ne?1:"",borderColor:"divider",display:"flex",justifyContent:"space-between",pb:Ne?1:0,flexWrap:"wrap"},children:[Object(R.jsxs)(x.a,{onChange:function(e,t){ee("1"===t?"/team/teams":"/team/crm"),Q(t),xe(""),ce(ye,Ie)},"aria-label":"lab API tabs example",children:[Object(N.c)()?"":Object(R.jsx)(I.a,{label:"Team",value:"1"}),!Object(N.c)()&&Object(R.jsx)(I.a,{label:"CRM Department",value:"2"})]}),"1"===K?Ne?Object(R.jsx)(M.a,{variant:"contained",startIcon:Object(R.jsx)(b.a,{fontSize:"medium"}),onClick:function(){ee("1"===K?"/team/add-member/teams":"/team/add-member/crm")},children:"Add New Member"}):"":ke?Object(R.jsx)(M.a,{variant:"contained",startIcon:Object(R.jsx)(b.a,{fontSize:"medium"}),onClick:function(){ee("1"===K?"/team/add-member/teams":"/team/add-member/crm")},children:"Add New Member"}):""]}),Object(N.c)()?"":Object(R.jsx)(v.a,{value:"1",sx:{px:0},children:0===ye.length&&0===(null===Z||void 0===Z?void 0:Z.team)?Object(R.jsx)(R.Fragment,{children:Object(R.jsx)(C.a,{display:"flex",justifyContent:"center",textAlign:"center ",children:Object(R.jsxs)(A.a,{variant:"h3",pt:10,sx:{color:Se.palette.grey[500]},textAlign:"center",children:[" ","No Team Member To Show"," "]})})}):Object(R.jsxs)(V,{sx:{minWidth:275,minHeight:500},children:[Object(R.jsx)("form",{children:Object(R.jsxs)(C.a,{display:"flex",alignItems:"center",justifyContent:"space-between",py:1,px:3,sx:{borderBottom:1,borderColor:"divider"},children:[Object(R.jsxs)(C.a,{flexGrow:1,display:"flex",alignItems:"center",children:[Object(R.jsx)(f.a,{sx:{mr:2,color:Se.colors.secondary.main}}),Object(R.jsx)(F,{value:me,onChange:oe,autoFocus:!0,placeholder:"Type name to search...",fullWidth:!0})]}),Object(R.jsx)(C.a,{children:Object(R.jsx)(P.a,{name:"Projects",value:O.Projects,onchange:ne,menuItems:L,initialValue:"All",isValueId:0})})]})}),0===fe.length&&Object(R.jsx)(C.a,{display:"flex",justifyContent:"center",textAlign:"center ",children:Object(R.jsxs)(A.a,{variant:"h3",pt:10,sx:{color:Se.palette.grey[500]},textAlign:"center",children:[" ","No Team Member matched"," "]})}),Object(R.jsx)(S.a,{container:!0,sx:{gridAutoRows:"1fr"},children:fe.map((function(e){var t=e;return n.userId!==t._id&&Object(R.jsx)(S.a,{item:!0,xs:12,sm:12,md:6,lg:6,xxl:4,children:Object(R.jsx)(z,{id:t._id,name:"".concat(ue(null===t||void 0===t?void 0:t.first_name)," ").concat(ue(null===t||void 0===t?void 0:t.last_name)),designation:ue(t.designation),address:ue(t.address),number:t.phoneNumber,email:t.email,profileUrl:t.profileImage,isEditAllowed:Ne,isActive:t.is_active})},null===e||void 0===e?void 0:e._id)}))})]})}),Object(R.jsx)(v.a,{value:"2",sx:{px:0},children:0===Ie.length&&0===(null===Z||void 0===Z?void 0:Z.crm)?Object(R.jsx)(R.Fragment,{children:Object(R.jsx)(C.a,{display:"flex",justifyContent:"center",textAlign:"center ",children:Object(R.jsxs)(A.a,{variant:"h3",pt:10,sx:{color:Se.palette.grey[500]},textAlign:"center",children:[" ","No CRM Member To Show"," "]})})}):Object(R.jsxs)(V,{sx:{minWidth:275,minHeight:500},children:[Object(R.jsx)("form",{children:Object(R.jsxs)(C.a,{display:"flex",alignItems:"center",justifyContent:"space-between",py:1,px:3,sx:{borderBottom:1,borderColor:"divider"},children:[Object(R.jsxs)(C.a,{flexGrow:1,display:"flex",alignItems:"center",children:[Object(R.jsx)(f.a,{sx:{mr:2,color:Se.colors.secondary.main}}),Object(R.jsx)(F,{value:me,onChange:le,autoFocus:!0,placeholder:"Type name to search...",fullWidth:!0})]}),Object(R.jsx)(C.a,{children:Object(R.jsx)(P.a,{name:"Projects",value:O.Projects,onchange:ne,menuItems:L,initialValue:"All",isValueId:0})})]})}),0===fe.length&&Object(R.jsx)(C.a,{display:"flex",justifyContent:"center",textAlign:"center ",children:Object(R.jsxs)(A.a,{variant:"h3",pt:10,sx:{color:Se.palette.grey[500]},textAlign:"center",children:[" ","No CRM Member matched"," "]})}),Object(R.jsx)(S.a,{container:!0,sx:{gridAutoRows:"1fr"},children:fe.map((function(e){var t=e;return n.userId!==t._id&&Object(R.jsx)(S.a,{item:!0,xs:12,sm:12,md:6,lg:6,xxl:4,children:Object(R.jsx)(z,{id:t._id,name:"".concat(ue(t.first_name)," ").concat(ue(t.last_name)),designation:ue(t.designation),address:ue(t.address),number:t.phoneNumber,email:t.email,profileUrl:t.profileImage,isEditAllowed:ke,isActive:t.is_active})},null===t||void 0===t?void 0:t.id)}))})]})})]})})]}),Object(R.jsx)(S.a,{sx:{px:4},container:!0,direction:"row",justifyContent:"center",alignItems:"stretch",spacing:4,children:Object(R.jsx)(S.a,{item:!0,xs:12})})]})}},830:function(e,t,n){"use strict";var i=n(47);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n(48)),r=n(0),c=(0,a.default)((0,r.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11h-4v4h-2v-4H7v-2h4V7h2v4h4v2z"}),"AddCircle");t.default=c},835:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));n(1);var i=n(172),a=n(806),r=n(801),c=n(815),o=n(29),l=n(356),s=n(27),d=n(0),u=function(e){var t=e.name,n=e.value,u=e.onchange,j=e.menuItems,b=void 0===j?[]:j,m=e.initialValue,x=e.dateRange,v=void 0===x?"":x,h=e.isValueId,f=void 0===h||h;return Object(d.jsx)(i.a,{sx:{border:0,"&:hover":{border:0},borderRadius:"5px",backgroundColor:"#dbe5f3",outline:"0px"},children:Object(d.jsx)(a.a,{fullWidth:!0,component:"div",children:Object(d.jsxs)(r.a,{sx:{backgroundColor:"#dbe5f3",borderRadius:"5px",m:"-2px"},onChange:u,value:n,name:t,startAdornment:Object(d.jsx)(c.a,{position:"start",children:Object(d.jsxs)(o.a,{variant:"h5",children:[t," :"]})}),children:[Object(d.jsx)(l.a,{value:m,sx:{background:"#dbe5f3"},children:Object(d.jsx)(s.a,{ml:.5,display:"inline-block",children:Object(d.jsxs)(o.a,{variant:"h4",children:[" ",m]})})},m),""!==v&&Object(d.jsx)(l.a,{value:v,sx:{background:"#dbe5f3"},children:Object(d.jsx)(s.a,{ml:.5,display:"inline-block",children:Object(d.jsxs)(o.a,{variant:"h4",children:[" ",v]})})},v),b.map((function(e){var t;return"object"===typeof e&&null!==e?Object(d.jsx)(l.a,{value:e.id,children:Object(d.jsx)(s.a,{ml:1,display:"inline-block",children:e.label})},f?e.id:null===e||void 0===e||null===(t=e.id)||void 0===t?void 0:t._id):Object(d.jsx)(l.a,{value:e,children:Object(d.jsx)(s.a,{ml:1,display:"inline-block",children:e})},e)}))]})})})}},845:function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"e",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"f",(function(){return d})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return o})),n.d(t,"g",(function(){return l}));var i=n(21),a=function(){var e=Object(i.c)((function(e){var t;return null===e||void 0===e||null===(t=e.auth)||void 0===t?void 0:t.data})),t=!1;return("ADMIN"===(null===e||void 0===e?void 0:e.roleName)||(null===e||void 0===e?void 0:e.permissions.some((function(e){return"addBroadcast"===e.name}))))&&(t=!0),t},r=function(){var e=Object(i.c)((function(e){var t;return null===e||void 0===e||null===(t=e.auth)||void 0===t?void 0:t.data})),t=!1;return("ADMIN"===(null===e||void 0===e?void 0:e.roleName)||(null===e||void 0===e?void 0:e.permissions.some((function(e){return"addEvent"===e.name}))))&&(t=!0),t},c=function(){var e=Object(i.c)((function(e){var t;return null===e||void 0===e||null===(t=e.auth)||void 0===t?void 0:t.data})),t=!1;return("ADMIN"===(null===e||void 0===e?void 0:e.roleName)||(null===e||void 0===e?void 0:e.permissions.some((function(e){return"addCRMMember"===e.name}))))&&(t=!0),t},o=function(){var e=Object(i.c)((function(e){var t;return null===e||void 0===e||null===(t=e.auth)||void 0===t?void 0:t.data})),t=!1;return("ADMIN"===(null===e||void 0===e?void 0:e.roleName)||(null===e||void 0===e?void 0:e.permissions.some((function(e){return"addMeetings"===e.name}))))&&(t=!0),t},l=function(){var e=Object(i.c)((function(e){var t;return null===e||void 0===e||null===(t=e.auth)||void 0===t?void 0:t.data})),t=!1;return("ADMIN"===(null===e||void 0===e?void 0:e.roleName)||(null===e||void 0===e?void 0:e.permissions.some((function(e){return"deleteMeetings"===e.name}))))&&(t=!0),t},s=function(){var e=Object(i.c)((function(e){var t;return null===e||void 0===e||null===(t=e.auth)||void 0===t?void 0:t.data})),t=!1;return("ADMIN"===(null===e||void 0===e?void 0:e.roleName)||(null===e||void 0===e?void 0:e.permissions.some((function(e){return"addMember"===e.name}))))&&(t=!0),t},d=function(){var e=Object(i.c)((function(e){var t;return null===e||void 0===e||null===(t=e.auth)||void 0===t?void 0:t.data})),t=!1;return("ADMIN"===(null===e||void 0===e?void 0:e.roleName)||(null===e||void 0===e?void 0:e.permissions.some((function(e){return"addProject"===e.name}))))&&(t=!0),t}}}]);
//# sourceMappingURL=77.7e645f89.chunk.js.map